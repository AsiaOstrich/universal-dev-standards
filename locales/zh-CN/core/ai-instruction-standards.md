---
source: core/ai-instruction-standards.md
source_version: 1.0.0
translation_version: 1.0.0
last_synced: 2026-01-14
status: current
---

# AI 指令文件规范

> **语言**: [English](../../core/ai-instruction-standards.md) | [简体中文](../../zh-TW/core/ai-instruction-standards.md) | 简体中文

**版本**: 1.0.0
**最后更新**: 2026-01-14
**适用范围**: 所有使用 AI 编码助手的项目

---

## 目的

本规范定义创建和维护 AI 指令文件（又称「系统提示词文件」）的最佳实践。这些文件引导 AI 助手理解项目特定的惯例、标准和工作流程。

---

## 支持的 AI 工具

| AI 工具 | 指令文件 | 格式 |
|---------|---------|------|
| Claude Code | `CLAUDE.md` | Markdown |
| Cursor | `.cursorrules` | Markdown |
| Windsurf | `.windsurfrules` | Markdown |
| Cline | `.clinerules` | Markdown |
| GitHub Copilot | `.github/copilot-instructions.md` | Markdown |
| OpenCode | `.opencode/instructions.md` | Markdown |

---

## 核心原则：通用与专用分离

### 为什么要分离？

AI 指令文件通常混合两种类型的内容：
1. **通用规则**：适用于任何项目
2. **项目专用配置**：专属于你的项目

分离这些内容可以改善：
- **可携性**：通用区段可在项目间重复使用
- **可维护性**：更容易更新而不会意外「泄漏」
- **清晰性**：用户知道采用标准时需要自定义哪些部分

---

## 文件结构

### 建议的布局

```markdown
# [项目名称] - AI 指令

## 通用标准
<!-- 适用于任何项目的规则 -->
- Commit 消息格式
- 代码审查清单
- 测试标准
- 反幻觉规则

---

## 项目专用配置
<!-- 专属于本项目 - 采用时需自定义 -->

### 技术栈
[你的技术在这里]

### 快速指令
[你的构建/测试/部署指令]

### 文件结构
[你的项目结构]

### 发布流程
[你的发布工作流程]
```

---

## 内容指南

### 通用内容（不要包含项目特定细节）

| 类别 | 示例 |
|------|------|
| **Commit 标准** | Conventional Commits 格式、消息结构 |
| **代码审查** | 审查清单、注释前缀 |
| **测试** | 测试金字塔比例、命名惯例 |
| **AI 行为** | 反幻觉规则、来源标注 |
| **文档** | 写作风格、结构指南 |

**在通用区段中避免：**
- 特定指令（例如：`npm test`、`pytest`）
- 硬编码路径（例如：`cli/src/`、`/var/www/`）
- 版本号（例如：`Node.js 18`、`Python 3.11`）
- 项目名称和 URL

### 项目专用内容（明确标记这些区段）

| 类别 | 示例 |
|------|------|
| **技术栈** | 编程语言、框架、版本 |
| **指令** | 构建、测试、lint、部署指令 |
| **文件结构** | 目录布局、关键文件 |
| **发布流程** | 版本文件、部署步骤 |
| **团队惯例** | 语言偏好、命名模式 |

---

## 标记惯例

使用明确的标记来区分内容类型：

### 选项 A：区段标题

```markdown
## 通用标准
[通用内容]

## 项目专用配置
[项目专用内容]
```

### 选项 B：行内标记

```markdown
> ⚠️ **项目专用**：此区段包含专属于本项目的配置。

### 技术栈
...
```

### 选项 C：注释标注

```markdown
<!-- 通用：以下适用于所有项目 -->
### Commit 消息格式
...

<!-- 项目专用：为你的项目自定义 -->
### 快速指令
...
```

---

## 维护检查清单

在提交 AI 指令文件的变更之前：

- [ ] **通用区段**：无项目特定的路径、指令或版本
- [ ] **项目专用区段**：已用标签明确标记
- [ ] **交叉引用**：指向标准文档的链接正确
- [ ] **一致性**：格式与现有区段一致

### 泄漏检测

执行此检查以找出通用区段中可能的项目特定内容泄漏：

```bash
# 示例：在通用区段中找出硬编码指令
grep -n "npm\|yarn\|pip\|cargo" CLAUDE.md | head -20
```

审查每个匹配项，确保它在项目专用区段中。

---

## 快速参考卡

### 通用 vs 项目专用

| 类型 | 包含 | 示例 |
|------|------|------|
| **通用** | 通用规则 | 「提交前执行测试」 |
| **项目专用** | 具体指令 | 「提交前执行 `npm test`」 |

### 区段标记

| 标记 | 含义 |
|------|------|
| `## 通用` | 适用于任何项目 |
| `## 项目专用` | 专属于本项目 |
| `> ⚠️ 项目专用` | 特定区段的行内警告 |

---

## 相关标准

- [文档结构](documentation-structure.md)
- [文档写作标准](documentation-writing-standards.md)
- [反幻觉指南](anti-hallucination.md)

---

## 版本历史

| 版本 | 日期 | 变更 |
|------|------|------|
| 1.0.0 | 2026-01-14 | 初始发布 |

---

## 许可证

本标准采用 [CC BY 4.0](https://creativecommons.org/licenses/by/4.0/) 发布。
