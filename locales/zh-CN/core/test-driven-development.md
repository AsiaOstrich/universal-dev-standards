---
source: ../../../core/test-driven-development.md
source_version: 1.1.0
translation_version: 1.1.0
last_synced: 2026-01-12
status: current
---

# æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD) æ ‡å‡†

**ç‰ˆæœ¬**: 1.1.0
**æœ€åæ›´æ–°**: 2026-01-12
**é€‚ç”¨èŒƒå›´**: æ‰€æœ‰é‡‡ç”¨æµ‹è¯•é©±åŠ¨å¼€å‘çš„ä¸“æ¡ˆ

> **è¯­è¨€**: [English](../../../core/test-driven-development.md) | ç¹ä½“ä¸­æ–‡

---

## ç›®çš„

æœ¬æ ‡å‡†å®šä¹‰äº†æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD) çš„åŸåˆ™ã€å·¥ä½œæµç¨‹å’Œæœ€ä½³å®è·µï¼Œç¡®ä¿æµ‹è¯•èƒ½å¤Ÿé©±åŠ¨è½¯ä½“åŠŸèƒ½çš„è®¾è®¡ä¸å®ä½œã€‚

**ä¸»è¦ä¼˜ç‚¹**ï¼š
- è®¾è®¡ä»æµ‹è¯•ä¸­æµ®ç°ï¼Œäº§ç”Ÿæ›´å…·å¯æµ‹è¯•æ€§å’Œæ¨¡ç»„åŒ–çš„ç¨‹åºç 
- å¯¹ç¨‹åºç æ­£ç¡®æ€§è·å¾—å³æ—¶å›é¦ˆ
- æµ‹è¯•ä½œä¸ºæ´»æ–‡ä»¶
- å‡å°‘é™¤é”™æ—¶é—´å’Œç¼ºé™·ç‡
- å¯¹é‡æ„æ›´æœ‰ä¿¡å¿ƒ

---

## ç›®å½•

1. [TDD æ ¸å¿ƒå¾ªç¯](#tdd-æ ¸å¿ƒå¾ªç¯)
2. [TDD åŸåˆ™](#tdd-åŸåˆ™)
3. [é€‚ç”¨åœºæ™¯æŒ‡å—](#é€‚ç”¨åœºæ™¯æŒ‡å—)
4. [TDD vs BDD vs ATDD](#tdd-vs-bdd-vs-atdd)
5. [ä¸ SDD é›†æˆ](#ä¸-sdd-é›†æˆ)
6. [TDD å·¥ä½œæµç¨‹](#tdd-å·¥ä½œæµç¨‹)
7. [æµ‹è¯•è®¾è®¡æŒ‡å—](#æµ‹è¯•è®¾è®¡æŒ‡å—)
8. [é‡æ„ç­–ç•¥](#é‡æ„ç­–ç•¥)
9. [TDD ä¸­çš„æµ‹è¯•æ›¿èº«](#tdd-ä¸­çš„æµ‹è¯•æ›¿èº«)
10. [åæ¨¡å¼ä¸ä¿®å¤](#åæ¨¡å¼ä¸ä¿®å¤)
11. [è¯­è¨€/æ¡†æ¶å®è·µ](#è¯­è¨€æ¡†æ¶å®è·µ)
12. [åº¦é‡ä¸è¯„ä¼°](#åº¦é‡ä¸è¯„ä¼°)
13. [ç›¸å…³æ ‡å‡†](#ç›¸å…³æ ‡å‡†)
14. [å‚è€ƒèµ„æ–™](#å‚è€ƒèµ„æ–™)
15. [ç‰ˆæœ¬å†å²](#ç‰ˆæœ¬å†å²)
16. [æˆæƒ](#æˆæƒ)

---

## TDD æ ¸å¿ƒå¾ªç¯

### çº¢-ç»¿-é‡æ„å¾ªç¯

TDD éµå¾ªä¸€ä¸ªç®€å•ä½†å¼ºå¤§çš„è¿­ä»£å¾ªç¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TDD æ ¸å¿ƒå¾ªç¯                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚      â”‚  ğŸ”´ çº¢   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ ğŸŸ¢ ç»¿   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ğŸ”µ é‡æ„  â”‚                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚           â–²                                        â”‚                        â”‚
â”‚           â”‚                                        â”‚                        â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                             â”‚
â”‚   ğŸ”´ çº¢è‰²é˜¶æ®µ (1-5 åˆ†é’Ÿ)                                                     â”‚
â”‚   â”œâ”€ æ’°å†™ä¸€ä¸ªæè¿°é¢„æœŸè¡Œä¸ºçš„å¤±è´¥æµ‹è¯•                                           â”‚
â”‚   â”œâ”€ æµ‹è¯•åº”è¯¥å› ä¸ºã€Œæ­£ç¡®çš„åŸå› ã€è€Œå¤±è´¥                                         â”‚
â”‚   â””â”€ éªŒè¯æµ‹è¯•ç¡®å®å¤±è´¥                                                        â”‚
â”‚                                                                             â”‚
â”‚   ğŸŸ¢ ç»¿è‰²é˜¶æ®µ (1-10 åˆ†é’Ÿ)                                                    â”‚
â”‚   â”œâ”€ æ’°å†™ã€Œæœ€å°‘ã€çš„ç¨‹åºç è®©æµ‹è¯•é€šè¿‡                                           â”‚
â”‚   â”œâ”€ ã€Œå…ˆå‡è£…ï¼Œå†å®ç°ã€æ˜¯å¯ä»¥æ¥å—çš„                                           â”‚
â”‚   â””â”€ ä¸è¦è¿‡åº¦è®¾è®¡ï¼›åªè¦è®©å®ƒèƒ½è¿ä½œ                                             â”‚
â”‚                                                                             â”‚
â”‚   ğŸ”µ é‡æ„é˜¶æ®µ (5-15 åˆ†é’Ÿ)                                                    â”‚
â”‚   â”œâ”€ åœ¨ä¿æŒæµ‹è¯•ç»¿è‰²çš„åŒæ—¶æ”¹å–„ç¨‹åºç å“è´¨                                        â”‚
â”‚   â”œâ”€ æ¶ˆé™¤é‡å¤ (DRY)                                                         â”‚
â”‚   â”œâ”€ æ”¹å–„å‘½åã€ç»“æ„ã€å¯è¯»æ€§                                                   â”‚
â”‚   â””â”€ æ¯æ¬¡é‡æ„æ­¥éª¤åæ‰§è¡Œæµ‹è¯•                                                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¾ªç¯æ—¶é—´å»ºè®®

| é˜¶æ®µ | å»ºè®®æ—¶é—´ | è­¦ç¤ºè®¯å· |
|------|---------|---------|
| ğŸ”´ çº¢ | 1-5 åˆ†é’Ÿ | è‹¥è¶…è¿‡ 10 åˆ†é’Ÿï¼Œæµ‹è¯•èŒƒå›´å¤ªå¤§ |
| ğŸŸ¢ ç»¿ | 1-10 åˆ†é’Ÿ | è‹¥è¶…è¿‡ 15 åˆ†é’Ÿï¼Œéœ€è¦åˆ†è§£é—®é¢˜ |
| ğŸ”µ é‡æ„ | 5-15 åˆ†é’Ÿ | è‹¥è·³è¿‡ï¼ŒæŠ€æœ¯å€ºä¼šç´¯ç§¯ |

### å£è¯€

> **çº¢ â†’ ç»¿ â†’ é‡æ„ â†’ é‡å¤**

æ¯æ¬¡è¿­ä»£éƒ½åº”è¯¥å¾ˆå°ã€‚å¦‚æœä½ å‘ç°è‡ªå·±åœ¨ä»»ä½•é˜¶æ®µèŠ±è´¹å¤ªé•¿æ—¶é—´ï¼Œæµ‹è¯•å¯èƒ½å¤ªæœ‰é‡å¿ƒäº†ã€‚

---

## TDD åŸåˆ™

### FIRST åŸåˆ™

é«˜å“è´¨çš„æµ‹è¯•éµå¾ª FIRST åŸåˆ™ï¼š

| åŸåˆ™ | è¯´æ˜ | å®è·µæŒ‡å— |
|------|------|---------|
| **F**ast (å¿«é€Ÿ) | æµ‹è¯•åº”è¯¥å¿«é€Ÿæ‰§è¡Œ | å•å…ƒæµ‹è¯•æ¯ä¸ª < 100msï¼›æ€»æµ‹è¯•å¥—ä»¶ < 10s |
| **I**ndependent (ç‹¬ç«‹) | æµ‹è¯•ä¹‹é—´ä¸äº’ç›¸ä¾èµ– | æ— å…±äº«çŠ¶æ€ï¼›æ¯ä¸ªæµ‹è¯•è®¾ç½®è‡ªå·±çš„èµ„æ–™ |
| **R**epeatable (å¯é‡å¤) | æ¯æ¬¡æ‰§è¡Œç»“æœç›¸åŒ | æ— éšæœºæ€§ï¼›æ— æ—¶é—´ä¾èµ–ï¼›æ— å¤–éƒ¨ I/O |
| **S**elf-validating (è‡ªæˆ‘éªŒè¯) | æœ‰æ˜ç¡®çš„é€šè¿‡/å¤±è´¥ç»“æœ | ä¸éœ€æ‰‹åŠ¨æ£€æŸ¥ï¼›æ˜ç¡®çš„æ–­è¨€ |
| **T**imely (åŠæ—¶) | åœ¨ç”Ÿäº§ç¨‹åºç ä¹‹å‰æ’°å†™ | è¿™æ˜¯ TDD çš„æœ¬è´¨ |

### Uncle Bob çš„ TDD ä¸‰è§„åˆ™

Robert C. Martin (Uncle Bob) ç”¨ä¸‰æ¡ä¸¥æ ¼çš„è§„åˆ™å®šä¹‰ TDDï¼š

1. **è§„åˆ™ä¸€ï¼ˆçº¢è‰²è§„åˆ™ï¼‰**ï¼šé™¤éæ˜¯ä¸ºäº†è®©å¤±è´¥çš„å•å…ƒæµ‹è¯•é€šè¿‡ï¼Œå¦åˆ™ä¸å…è®¸æ’°å†™ä»»ä½•ç”Ÿäº§ç¨‹åºç ã€‚

2. **è§„åˆ™äºŒï¼ˆæµ‹è¯•è§„åˆ™ï¼‰**ï¼šä¸å…è®¸æ’°å†™è¶…è¿‡è¶³ä»¥å¤±è´¥çš„å•å…ƒæµ‹è¯•ï¼›ç¼–è¯‘å¤±è´¥ä¹Ÿç®—å¤±è´¥ã€‚

3. **è§„åˆ™ä¸‰ï¼ˆç»¿è‰²è§„åˆ™ï¼‰**ï¼šä¸å…è®¸æ’°å†™è¶…è¿‡è¶³ä»¥è®©å½“å‰å¤±è´¥æµ‹è¯•é€šè¿‡çš„ç”Ÿäº§ç¨‹åºç ã€‚

### æµ‹è¯•çš„å•ä¸€èŒè´£

æ¯ä¸ªæµ‹è¯•åº”è¯¥éªŒè¯ã€Œä¸€ä¸ªã€è¡Œä¸ºï¼š

```
âœ… å¥½ï¼štest_calculate_total_with_discount_applies_percentage()
âŒ å·®ï¼štest_calculate_total_and_tax_and_discount_and_shipping()
```

### æµ‹è¯•å³æ–‡ä»¶

è‰¯å¥½æ’°å†™çš„æµ‹è¯•å¯ä½œä¸ºå¯æ‰§è¡Œçš„æ–‡ä»¶ï¼š

```
âœ… å¥½çš„æµ‹è¯•åç§°ï¼š
- should_return_empty_list_when_no_users_found
- should_throw_validation_error_when_email_is_invalid
- should_calculate_discount_when_order_exceeds_threshold

âŒ å·®çš„æµ‹è¯•åç§°ï¼š
- test1
- testCalculate
- itWorks
```

---

## é€‚ç”¨åœºæ™¯æŒ‡å—

### TDD åœºæ™¯é€‚ç”¨æ€§

| åœºæ™¯ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| **æ–°åŠŸèƒ½å¼€å‘** | â­â­â­â­â­ | TDD æœ€ä½³ä½¿ç”¨åœºæ™¯ï¼›è®¾è®¡ä»æµ‹è¯•ä¸­æµ®ç° |
| **Bug ä¿®å¤** | â­â­â­â­â­ | å…ˆæ’°å†™å¤±è´¥æµ‹è¯•é‡ç° bug |
| **API è®¾è®¡** | â­â­â­â­â­ | æµ‹è¯•å³ API ä½¿ç”¨æ–‡ä»¶ |
| **æ ¸å¿ƒä¸šåŠ¡é€»è¾‘** | â­â­â­â­â­ | é«˜ä»·å€¼ç¨‹åºç å¿…é¡»æœ‰æµ‹è¯•ä¿æŠ¤ |
| **æ¼”ç®—æ³•å®ç°** | â­â­â­â­ | è¾¹ç•Œæƒ…å†µå¤šï¼›TDD å¸®åŠ©æ€è€ƒ |
| **é‡æ„ç°æœ‰ç¨‹åºç ** | â­â­â­â­ | å…ˆè¡¥æµ‹è¯•ï¼Œå†å®‰å…¨é‡æ„ |
| **UI ç»„ä»¶** | â­â­â­ | éƒ¨åˆ†é€‚ç”¨ï¼›å¯ç»“åˆ BDD |
| **æ¢ç´¢æ€§åŸå‹** | â­â­ | TDD å¯èƒ½æ‹–æ…¢ä¸ç¡®å®šçš„æ¢ç´¢ |
| **ä¸€æ¬¡æ€§è„šæœ¬** | â­ | æˆæœ¬æ•ˆç›Šæ¯”ä½ |
| **ç¬¬ä¸‰æ–¹é›†æˆ** | â­â­ | éš¾ä»¥ Mockï¼›æ”¹ç”¨é›†æˆæµ‹è¯• |

### ä¾ä¸“æ¡ˆç±»å‹çš„ TDD

| ä¸“æ¡ˆç±»å‹ | TDD | BDD | ATDD | å»ºè®® |
|---------|-----|-----|------|------|
| **æ–°åˆ› MVP** | âš ï¸ é€‰æ‹©æ€§ | âœ… æ¨è | âŒ | å¿«é€Ÿè¿­ä»£ä¼˜å…ˆ |
| **ä¼ä¸šåº”ç”¨** | âœ… æ¨è | âœ… æ¨è | âœ… æ¨è | å“è´¨ä¸å¯ç»´æŠ¤æ€§å…³é”® |
| **å¼€æºä¸“æ¡ˆ** | âœ… æ¨è | âš ï¸ é€‰æ‹©æ€§ | âŒ | è´¡çŒ®è€…éœ€è¦æµ‹è¯•æ–‡ä»¶ |
| **é—ç•™ç³»ç»Ÿæ”¹é€ ** | âœ… å¿…è¦ | âš ï¸ é€‰æ‹©æ€§ | âŒ | ä½¿ç”¨ Golden Master ç­–ç•¥ï¼ˆè§ä¸‹æ–¹ï¼‰ |
| **å¾®æœåŠ¡** | âœ… æ¨è | âœ… æ¨è | âœ… æ¨è | å¥‘çº¦æµ‹è¯•é‡è¦ |
| **èµ„æ–™ç®¡çº¿** | âš ï¸ é€‰æ‹©æ€§ | âŒ | âŒ | ä»¥é›†æˆæµ‹è¯•ä¸ºä¸» |
| **æœºå™¨å­¦ä¹ ** | ğŸ”¶ è§†æƒ…å†µ | âŒ | âŒ | è§ä¸‹æ–¹ ML æµ‹è¯•è¾¹ç•Œ |

### æœºå™¨å­¦ä¹  (ML) æµ‹è¯•è¾¹ç•Œ

**é‡è¦**ï¼šML ä¸“æ¡ˆéœ€è¦åŒºåˆ†ã€Œæ¨¡å‹æ•ˆæœã€å’Œã€Œèµ„æ–™å·¥ç¨‹ã€ï¼š

| é¢å‘ | TDD é€‚ç”¨æ€§ | è¯´æ˜ |
|------|-----------|------|
| **æ¨¡å‹å‡†ç¡®ç‡** | âŒ ä¸é€‚ç”¨ | ç»“æœä¸ç¡®å®šæ€§é«˜ï¼›éš¾ä»¥é¢„å…ˆå®šä¹‰æœŸæœ›å€¼ |
| **ç‰¹å¾å¤„ç†** | âœ… å¿…é¡» | é¿å… Garbage In, Garbage Out |
| **èµ„æ–™æ¸…æ´—** | âœ… å¿…é¡» | èµ„æ–™å“è´¨ç›´æ¥å½±å“æ¨¡å‹æ•ˆæœ |
| **èµ„æ–™è½¬æ¢** | âœ… å¿…é¡» | ç¡®ä¿è½¬æ¢é€»è¾‘æ­£ç¡® |
| **ç®¡çº¿é›†æˆ** | âš ï¸ é€‰æ‹©æ€§ | ä»¥é›†æˆæµ‹è¯•ä¸ºä¸» |

### é—ç•™ç³»ç»Ÿç­–ç•¥ï¼šGolden Master Testingï¼ˆé»„é‡‘å¤§å¸ˆæµ‹è¯•ï¼‰

**é—®é¢˜**ï¼šåœ¨æ²¡æœ‰æµ‹è¯•çš„é—ç•™ç³»ç»Ÿä¸­ï¼Œã€Œè¡¥æµ‹è¯•ã€æœ¬èº«å°±æœ‰ç ´åç°æœ‰é€»è¾‘çš„é£é™©ã€‚

**Golden Master Testing å·¥ä½œæµç¨‹**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Golden Master Testing å·¥ä½œæµç¨‹                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1ï¸âƒ£  å½•åˆ¶é˜¶æ®µï¼ˆä¸ä¿®æ”¹ç¨‹åºç ï¼‰                                    â”‚
â”‚      â”œâ”€ å¯¹ç³»ç»Ÿæ‰§è¡Œå¤§é‡è¾“å…¥                                       â”‚
â”‚      â”œâ”€ è®°å½•æ‰€æœ‰è¾“å‡ºä½œä¸ºã€Œé»„é‡‘åŸºå‡†ã€                              â”‚
â”‚      â””â”€ ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·æˆ– AI ç”Ÿæˆæµ‹è¯•æ¡ˆä¾‹                          â”‚
â”‚                                                                 â”‚
â”‚  2ï¸âƒ£  éªŒè¯é˜¶æ®µ                                                    â”‚
â”‚      â”œâ”€ å»ºç«‹ Snapshot/Approval æµ‹è¯•                              â”‚
â”‚      â””â”€ ç¡®ä¿é‡æ„å‰åè¾“å‡ºä¸€è‡´                                     â”‚
â”‚                                                                 â”‚
â”‚  3ï¸âƒ£  é‡æ„é˜¶æ®µ                                                    â”‚
â”‚      â”œâ”€ åœ¨ Golden Master ä¿æŠ¤ä¸‹å®‰å…¨é‡æ„                          â”‚
â”‚      â”œâ”€ æ¯æ¬¡ä¿®æ”¹åæ‰§è¡Œ Golden Master æµ‹è¯•                        â”‚
â”‚      â””â”€ é€æ­¥å°† Golden Master è½¬æ¢ä¸ºæ­£å¼çš„å•å…ƒæµ‹è¯•                 â”‚
â”‚                                                                 â”‚
â”‚  4ï¸âƒ£  æ¼”è¿›é˜¶æ®µ                                                    â”‚
â”‚      â””â”€ æ–°åŠŸèƒ½ä½¿ç”¨æ ‡å‡† TDD                                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å·¥å…·æ”¯æ´**ï¼š
- ApprovalTestsï¼ˆå¤šè¯­è¨€æ”¯æ´ï¼‰
- Jest Snapshot Testing
- Python: pytest-snapshot
- AI è¾…åŠ©æµ‹è¯•è¾“å…¥ç”Ÿæˆ

### å†³ç­–æ ‘

```
éœ€æ±‚æ¥æºï¼Ÿ
â”œâ”€ æŠ€æœ¯éœ€æ±‚ï¼ˆæ•ˆèƒ½ã€é‡æ„ï¼‰â†’ TDD
â”œâ”€ ä¸šåŠ¡éœ€æ±‚
â”‚   â”œâ”€ æœ‰æ˜ç¡®éªŒæ”¶æ ‡å‡†ï¼Ÿ
â”‚   â”‚   â”œâ”€ æ˜¯ â†’ ATDD â†’ BDD â†’ TDD
â”‚   â”‚   â””â”€ å¦ â†’ BDD â†’ TDD
â”‚   â””â”€ å¤æ‚ä¸šåŠ¡æµç¨‹ï¼Ÿ
â”‚       â”œâ”€ æ˜¯ â†’ BDDï¼ˆåœºæ™¯æè¿°ï¼‰â†’ TDD
â”‚       â””â”€ å¦ â†’ TDD
â””â”€ æ¢ç´¢æ€§/åŸå‹ â†’ æš‚æ—¶è·³è¿‡ TDD
```

---

## TDD vs BDD vs ATDD

### æ¯”è¾ƒæ¦‚è§ˆ

| é¢å‘ | TDD | BDD | ATDD |
|------|-----|-----|------|
| **ç„¦ç‚¹** | ç¨‹åºç å•å…ƒ | è¡Œä¸º | éªŒæ”¶æ ‡å‡† |
| **è¯­è¨€** | ç¨‹åºç  | è‡ªç„¶è¯­è¨€ (Gherkin) | ä¸šåŠ¡è¯­è¨€ |
| **å‚ä¸è€…** | å¼€å‘è€… | å¼€å‘è€… + BA + QA | å…¨å›¢é˜Ÿ + åˆ©ç›Šç›¸å…³è€… |
| **æµ‹è¯•å±‚çº§** | å•å…ƒ/é›†æˆ | åŠŸèƒ½/åœºæ™¯ | ç³»ç»Ÿ/éªŒæ”¶ |
| **å·¥å…·** | xUnit æ¡†æ¶ | Cucumber, Behave, SpecFlow | FitNesse, Concordion |
| **æ—¶æœº** | ç¼–ç æœŸé—´ | ç¼–ç ä¹‹å‰ | å¼€å‘å¼€å§‹ä¹‹å‰ |

### é›†æˆé‡‘å­—å¡”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å®Œæ•´çš„æµ‹è¯•é©±åŠ¨å¼€å‘å †å                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   éœ€æ±‚å±‚       ATDD - éªŒæ”¶æµ‹è¯•é©±åŠ¨å¼€å‘                           â”‚
â”‚               ï¼ˆæ¥æ”¶ä¸šåŠ¡éªŒæ”¶æ ‡å‡†ï¼‰                                â”‚
â”‚                        â†“                                        â”‚
â”‚   è§„æ ¼å±‚       SDD - è§„æ ¼é©±åŠ¨å¼€å‘                                â”‚
â”‚               ï¼ˆæ­£å¼è§„æ ¼ã€éªŒæ”¶æ¡ä»¶ï¼‰                              â”‚
â”‚                        â†“                                        â”‚
â”‚   åŠŸèƒ½å±‚       BDD - è¡Œä¸ºé©±åŠ¨å¼€å‘                                â”‚
â”‚               ï¼ˆåœºæ™¯ â†’ Step Definitionsï¼‰                        â”‚
â”‚                        â†“                                        â”‚
â”‚   å¼€å‘å±‚       TDD - æµ‹è¯•é©±åŠ¨å¼€å‘                                â”‚
â”‚               ï¼ˆå•å…ƒæµ‹è¯• â†’ ç¨‹åºç ï¼‰                               â”‚
â”‚                        â†“                                        â”‚
â”‚   é›†æˆå±‚       é›†æˆä¸ç³»ç»Ÿæµ‹è¯•                                     â”‚
â”‚                                                                 â”‚
â”‚   å…³é”®ï¼šATDD â†’ SDD â†’ BDD â†’ TDD â†’ é›†æˆæµ‹è¯•ï¼ˆè‡ªä¸Šè€Œä¸‹ï¼‰            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### BDD Gherkin è¯­æ³•æ¦‚è§ˆ

```gherkin
Feature: ä½¿ç”¨è€…ç™»å…¥
  ä½œä¸ºä¸€ä¸ªæ³¨å†Œä½¿ç”¨è€…
  æˆ‘æƒ³è¦ç™»å…¥æˆ‘çš„å¸å·
  ä»¥ä¾¿æˆ‘å¯ä»¥å­˜å–æˆ‘çš„ä¸ªäººåŒ–å†…å®¹

  Scenario: ä½¿ç”¨æœ‰æ•ˆå‡­è¯æˆåŠŸç™»å…¥
    Given æˆ‘åœ¨ç™»å…¥é¡µé¢
    And æˆ‘æœ‰ä¸€ä¸ªæ³¨å†Œå¸å·ï¼Œç”µå­é‚®ä»¶ä¸º "user@example.com"
    When æˆ‘è¾“å…¥ç”µå­é‚®ä»¶ "user@example.com"
    And æˆ‘è¾“å…¥å¯†ç  "correctpassword"
    And æˆ‘ç‚¹å‡»ç™»å…¥æŒ‰é’®
    Then æˆ‘åº”è¯¥è¢«é‡æ–°å¯¼å‘åˆ°ä»ªè¡¨æ¿
    And æˆ‘åº”è¯¥çœ‹åˆ°åŒ…å«æˆ‘åå­—çš„æ¬¢è¿è®¯æ¯

  Scenario: ä½¿ç”¨æ— æ•ˆå¯†ç ç™»å…¥å¤±è´¥
    Given æˆ‘åœ¨ç™»å…¥é¡µé¢
    When æˆ‘è¾“å…¥ç”µå­é‚®ä»¶ "user@example.com"
    And æˆ‘è¾“å…¥å¯†ç  "wrongpassword"
    And æˆ‘ç‚¹å‡»ç™»å…¥æŒ‰é’®
    Then æˆ‘åº”è¯¥çœ‹åˆ°é”™è¯¯è®¯æ¯ "æ— æ•ˆçš„å‡­è¯"
    And æˆ‘åº”è¯¥ä¿æŒåœ¨ç™»å…¥é¡µé¢
```

### ATDD éªŒæ”¶æ ‡å‡†æ ¼å¼

```markdown
## åŠŸèƒ½ï¼šè´­ç‰©è½¦ç»“å¸

### éªŒæ”¶æ ‡å‡†ï¼š

**AC-1ï¼šè®¡ç®—è®¢å•æ€»é¢**
- GIVEN è´­ç‰©è½¦ä¸­æœ‰ä»·æ ¼ä¸º [$10, $20, $15] çš„å•†å“
- WHEN ä½¿ç”¨è€…è¿›è¡Œç»“å¸
- THEN æ€»é¢åº”ä¸º $45

**AC-2ï¼šå¥—ç”¨æŠ˜æ‰£ç **
- GIVEN è´­ç‰©è½¦æ€»é¢ä¸º $100
- AND æœ‰æ•ˆçš„æŠ˜æ‰£ç  "SAVE20" ä¸º 20% æŠ˜æ‰£
- WHEN ä½¿ç”¨è€…å¥—ç”¨æŠ˜æ‰£ç 
- THEN æ€»é¢åº”ä¸º $80

**AC-3ï¼šéªŒè¯æœ€ä½è®¢å•é‡‘é¢**
- GIVEN è´­ç‰©è½¦æ€»é¢ä½äº $25
- WHEN ä½¿ç”¨è€…å°è¯•ç»“å¸
- THEN ç³»ç»Ÿåº”æ˜¾ç¤ºã€Œæœ€ä½è®¢å•é‡‘é¢ä¸º $25ã€é”™è¯¯
```

### é€‰æ‹©æ­£ç¡®çš„æ–¹æ³•

| ä½¿ç”¨æ¡ˆä¾‹ | ä¸»è¦æ–¹æ³• | è¾…åŠ©æ–¹æ³• |
|---------|---------|---------|
| æ¼”ç®—æ³•å®ç° | TDD | - |
| ä½¿ç”¨è€…éªŒè¯æµç¨‹ | BDD | TDD |
| æ”¯ä»˜å¤„ç† | ATDD | BDD + TDD |
| API ç«¯ç‚¹ | TDD | BDD ç”¨äºé›†æˆ |
| UI ç»„ä»¶ | BDD | TDD ç”¨äºé€»è¾‘ |
| ä¸šåŠ¡è§„åˆ™éªŒè¯ | ATDD | TDD |
| æ•ˆèƒ½ä¼˜åŒ– | TDD | - |
| å¤–éƒ¨æœåŠ¡é›†æˆ | TDD | BDD ç”¨äºå¥‘çº¦ |

---

## ä¸ SDD é›†æˆ

### SDD + TDD ç»Ÿä¸€å·¥ä½œæµç¨‹

è§„æ ¼é©±åŠ¨å¼€å‘ (SDD) å’Œæµ‹è¯•é©±åŠ¨å¼€å‘ (TDD) æ˜¯äº’è¡¥çš„ï¼š

- **SDD**ï¼šã€Œè§„æ ¼ä¼˜å…ˆï¼Œç¨‹åºç å…¶æ¬¡ã€- å®šä¹‰è¦å»ºæ„ã€Œä»€ä¹ˆã€
- **TDD**ï¼šã€Œæµ‹è¯•ä¼˜å…ˆï¼Œç¨‹åºç å…¶æ¬¡ã€- å®šä¹‰å¦‚ä½•ã€ŒéªŒè¯ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SDD + TDD é›†æˆå·¥ä½œæµç¨‹                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  1ï¸âƒ£  SDDï¼šææ¡ˆé˜¶æ®µ                                                          â”‚
â”‚      â”œâ”€ æ’°å†™ Specï¼šå®šä¹‰åŠŸèƒ½ã€éªŒæ”¶æ ‡å‡†ã€è¾¹ç•Œæƒ…å†µ                               â”‚
â”‚      â”œâ”€ åŒ…å«éªŒæ”¶æ ‡å‡†ï¼ˆè½¬æ¢ä¸º ATDD åœºæ™¯ï¼‰                                      â”‚
â”‚      â””â”€ å–å¾—åˆ©ç›Šç›¸å…³è€…æ‰¹å‡†                                                    â”‚
â”‚         (Spec ID: SPEC-001)                                                 â”‚
â”‚                                                                             â”‚
â”‚  2ï¸âƒ£  TDDï¼šçº¢è‰²é˜¶æ®µ                                                          â”‚
â”‚      â”œâ”€ åŸºäº Spec çš„éªŒæ”¶æ ‡å‡†æ’°å†™æµ‹è¯•                                         â”‚
â”‚      â”œâ”€ æ’°å†™æè¿°é¢„æœŸè¡Œä¸ºçš„å¤±è´¥æµ‹è¯•                                           â”‚
â”‚      â”œâ”€ æµ‹è¯•å®ç° Specï¼šä¸€ä¸ªæ ‡å‡† = å¤šä¸ªæµ‹è¯•                                   â”‚
â”‚      â””â”€ åœ¨æµ‹è¯•æ–‡ä»¶æ³¨è§£ä¸­å‚è€ƒ SPEC-001                                        â”‚
â”‚                                                                             â”‚
â”‚  3ï¸âƒ£  TDDï¼šç»¿è‰² + é‡æ„é˜¶æ®µ                                                   â”‚
â”‚      â”œâ”€ è¿­ä»£å¼€å‘ï¼Œä¸€æ¬¡å®ç°ä¸€ä¸ªå°åŠŸèƒ½                                         â”‚
â”‚      â”œâ”€ æµ‹è¯•é€šè¿‡åé‡æ„                                                       â”‚
â”‚      â””â”€ ä¿æŒæ‰€æœ‰ Spec éªŒæ”¶æ ‡å‡†æµ‹è¯•é€šè¿‡                                       â”‚
â”‚                                                                             â”‚
â”‚  4ï¸âƒ£  SDDï¼šéªŒè¯é˜¶æ®µ                                                          â”‚
â”‚      â”œâ”€ ç¡®è®¤å®ç°ä¸ Spec ç›¸ç¬¦                                                 â”‚
â”‚      â”œâ”€ éªŒæ”¶æµ‹è¯•å¥—ä»¶é€šè¿‡                                                     â”‚
â”‚      â””â”€ æ‰€æœ‰éªŒæ”¶æ ‡å‡†å·²å®ç° âœ“                                                 â”‚
â”‚                                                                             â”‚
â”‚  5ï¸âƒ£  æäº¤ PR å’Œæ’°å†™æäº¤è®¯æ¯                                                  â”‚
â”‚      â”œâ”€ Commit: "feat(auth): implement login"                               â”‚
â”‚      â”œâ”€ Body: "Implements SPEC-001 with OAuth2"                             â”‚
â”‚      â”œâ”€ Refs: SPEC-001                                                      â”‚
â”‚      â””â”€ åŒ…å«æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š                                                   â”‚
â”‚                                                                             â”‚
â”‚  6ï¸âƒ£  SDDï¼šå½’æ¡£é˜¶æ®µ                                                          â”‚
â”‚      â””â”€ å½’æ¡£ Specï¼Œè¿ç»“åˆ° PR/æäº¤                                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å°† Spec éªŒæ”¶æ ‡å‡†å¯¹åº”åˆ° TDD æµ‹è¯•

| Spec éªŒæ”¶æ ‡å‡† | TDD æµ‹è¯• |
|--------------|----------|
| ã€Œä½¿ç”¨è€…å¯ä»¥ç”¨æœ‰æ•ˆå‡­è¯ç™»å…¥ã€ | `test_login_with_valid_credentials_succeeds()` |
| ã€Œæ— æ•ˆå¯†ç æ˜¾ç¤ºé”™è¯¯ã€ | `test_login_with_invalid_password_shows_error()` |
| ã€Œ3 æ¬¡å¤±è´¥å°è¯•åå¸å·é”å®šã€ | `test_account_locks_after_three_failed_attempts()` |
| ã€Œé”å®šçš„å¸å·æ— æ³•ç™»å…¥ã€ | `test_locked_account_cannot_login()` |

### åœ¨æµ‹è¯•ä¸­å‚è€ƒ Spec

```typescript
/**
 * SPEC-001ï¼šä½¿ç”¨è€…éªŒè¯ çš„æµ‹è¯•
 * @see specs/SPEC-001-user-authentication.md
 */
describe('ä½¿ç”¨è€…éªŒè¯ (SPEC-001)', () => {
  // AC-1ï¼šä½¿ç”¨è€…å¯ä»¥ç”¨æœ‰æ•ˆå‡­è¯ç™»å…¥
  test('should login successfully with valid credentials', async () => {
    // ...
  });

  // AC-2ï¼šæ— æ•ˆå¯†ç æ˜¾ç¤ºé”™è¯¯
  test('should show error message for invalid password', async () => {
    // ...
  });
});
```

---

## TDD å·¥ä½œæµç¨‹

### ä¸ªäººå±‚çº§ TDD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ä¸ªäºº TDD å·¥ä½œé˜¶æ®µæµç¨‹                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. ç†è§£éœ€æ±‚                                                     â”‚
â”‚     â”œâ”€ é˜…è¯» spec/ä½¿ç”¨è€…æ•…äº‹                                      â”‚
â”‚     â””â”€ è¯†åˆ«éªŒæ”¶æ ‡å‡†                                              â”‚
â”‚                                                                 â”‚
â”‚  2. åˆ—å‡ºæµ‹è¯•æ¡ˆä¾‹ï¼ˆçº¸ä¸Šæˆ– TODO æ³¨è§£ï¼‰                               â”‚
â”‚     â”œâ”€ å¿«ä¹è·¯å¾„åœºæ™¯                                              â”‚
â”‚     â”œâ”€ è¾¹ç•Œæƒ…å†µ                                                  â”‚
â”‚     â”œâ”€ é”™è¯¯åœºæ™¯                                                  â”‚
â”‚     â””â”€ è¾¹ç•Œæ¡ä»¶                                                  â”‚
â”‚                                                                 â”‚
â”‚  3. é€‰æ‹©æœ€ç®€å•çš„æµ‹è¯•æ¡ˆä¾‹                                          â”‚
â”‚     â””â”€ ä»æœ€åŸºæœ¬çš„å¿«ä¹è·¯å¾„å¼€å§‹                                     â”‚
â”‚                                                                 â”‚
â”‚  4. çº¢è‰²ï¼šæ’°å†™æµ‹è¯•                                                â”‚
â”‚     â”œâ”€ ä½¿ç”¨æ¸…æ™°çš„ Arrange-Act-Assert æ’°å†™æµ‹è¯•                    â”‚
â”‚     â”œâ”€ ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°                                       â”‚
â”‚     â””â”€ æ‰§è¡Œæµ‹è¯•ï¼ŒéªŒè¯å®ƒå¤±è´¥                                       â”‚
â”‚                                                                 â”‚
â”‚  5. ç»¿è‰²ï¼šè®©å®ƒé€šè¿‡                                                â”‚
â”‚     â”œâ”€ æ’°å†™æœ€å°‘çš„ç¨‹åºç è®©æµ‹è¯•é€šè¿‡                                 â”‚
â”‚     â”œâ”€ ã€Œå‡è£…ã€æ˜¯å¯ä»¥æ¥å—çš„                                       â”‚
â”‚     â””â”€ æ‰§è¡Œæµ‹è¯•ï¼ŒéªŒè¯å®ƒé€šè¿‡                                       â”‚
â”‚                                                                 â”‚
â”‚  6. é‡æ„ï¼šæ¸…ç†                                                    â”‚
â”‚     â”œâ”€ æ¶ˆé™¤é‡å¤                                                  â”‚
â”‚     â”œâ”€ æ”¹å–„å‘½å                                                  â”‚
â”‚     â”œâ”€ æå–æ–¹æ³•/å‡½å¼                                             â”‚
â”‚     â””â”€ æ¯æ¬¡å˜æ›´åæ‰§è¡Œæ‰€æœ‰æµ‹è¯•                                     â”‚
â”‚                                                                 â”‚
â”‚  7. ä»æ­¥éª¤ 3 é‡å¤ï¼Œç›´åˆ°æ‰€æœ‰æµ‹è¯•å®Œæˆ                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å›¢é˜Ÿå±‚çº§ TDD

#### ä½¿ç”¨ TDD çš„ç»“å¯¹ç¨‹åºè®¾è®¡

**ä¹’ä¹“æ¨¡å¼**ï¼š
1. å¼€å‘è€… A æ’°å†™ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•
2. å¼€å‘è€… B æ’°å†™ç¨‹åºç è®©æµ‹è¯•é€šè¿‡
3. å¼€å‘è€… B æ’°å†™ä¸‹ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•
4. å¼€å‘è€… A æ’°å†™ç¨‹åºç è®©æµ‹è¯•é€šè¿‡
5. ä»»ä¸€å¼€å‘è€…å¯ä»¥éšæ—¶é‡æ„
6. é‡å¤

**é©¾é©¶å‘˜-é¢†èˆªå‘˜æ¨¡å¼**ï¼š
1. é¢†èˆªå‘˜æ€è€ƒè®¾è®¡å’Œæµ‹è¯•æ¡ˆä¾‹
2. é©¾é©¶å‘˜æ’°å†™æµ‹è¯•å’Œç¨‹åºç 
3. æ¯ 15-30 åˆ†é’Ÿäº¤æ¢è§’è‰²

#### ä½¿ç”¨ TDD çš„ç¾¤ä½“ç¨‹åºè®¾è®¡

- ä¸€ä¸ªé©¾é©¶å‘˜ï¼ˆæ‰“å­—ï¼‰ï¼Œå¤šä¸ªé¢†èˆªå‘˜ï¼ˆæŒ‡å¯¼ï¼‰
- æ¯ 5-10 åˆ†é’Ÿè½®æ¢é©¾é©¶å‘˜
- é›†ä½“å†³å®šæµ‹è¯•æ¡ˆä¾‹å’Œå®ç°
- é€è¿‡å¤šå…ƒè§†è§’è·å¾—æ›´é«˜å“è´¨

### CI/CD é›†æˆ

```yaml
# TDD çš„ GitHub Actions å·¥ä½œæµç¨‹èŒƒä¾‹
name: TDD CI Pipeline

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Install dependencies
        run: npm ci

      - name: Run unit tests
        run: npm run test:unit

      - name: Run integration tests
        run: npm run test:integration

      - name: Check coverage threshold
        run: npm run test:coverage -- --coverage-threshold=80

      - name: Upload coverage report
        uses: codecov/codecov-action@v4
```

---

## æµ‹è¯•è®¾è®¡æŒ‡å—

### AAA æ¨¡å¼ï¼ˆArrange-Act-Assertï¼‰

```typescript
test('should calculate total with discount', () => {
  // Arrange - è®¾ç½®æµ‹è¯•èµ„æ–™å’Œä¾èµ–
  const cart = new ShoppingCart();
  cart.addItem({ name: 'Widget', price: 100 });
  cart.setDiscountCode('SAVE20'); // 20% æŠ˜æ‰£

  // Act - æ‰§è¡Œè¢«æµ‹è¯•çš„è¡Œä¸º
  const total = cart.calculateTotal();

  // Assert - éªŒè¯ç»“æœ
  expect(total).toBe(80);
});
```

### Given-When-Then æ¨¡å¼ï¼ˆBDD é£æ ¼ï¼‰

```typescript
test('given a cart with items, when discount applied, then total is reduced', () => {
  // Given
  const cart = new ShoppingCart();
  cart.addItem({ name: 'Widget', price: 100 });

  // When
  cart.applyDiscount('SAVE20');
  const total = cart.calculateTotal();

  // Then
  expect(total).toBe(80);
});
```

### æµ‹è¯•å‘½åæƒ¯ä¾‹

| æ¨¡å¼ | èŒƒä¾‹ |
|------|------|
| `should_[è¡Œä¸º]_when_[æ¡ä»¶]` | `should_return_error_when_email_invalid` |
| `[æ–¹æ³•]_[åœºæ™¯]_[é¢„æœŸ]` | `calculateTotal_withDiscount_returnsReducedPrice` |
| `test_[æ–¹æ³•]_[åœºæ™¯]_[é¢„æœŸ]` | `test_login_invalidPassword_throwsError` |
| `it_[åšæŸäº‹]` | `it_calculates_total_correctly` |

### æµ‹è¯•èµ„æ–™æœ€ä½³å®è·µ

```typescript
// âœ… å¥½ï¼šæ¸…æ™°ã€æœ‰æ„ä¹‰çš„æµ‹è¯•èµ„æ–™
const validUser = {
  email: 'john.doe@example.com',
  password: 'SecureP@ss123',
  role: 'admin'
};

// âŒ å·®ï¼šæ²¡æœ‰ä¸Šä¸‹æ–‡çš„é­”æœ¯å­—ä¸²
const user = {
  email: 'a@b.c',
  password: '123',
  role: 'x'
};

// âœ… å¥½ï¼šä½¿ç”¨æµ‹è¯•èµ„æ–™å»ºæ„å™¨
const user = UserBuilder.create()
  .withEmail('john.doe@example.com')
  .withRole('admin')
  .build();

// âœ… å¥½ï¼šä½¿ç”¨å¸¸æ•°è¡¨ç¤ºè¾¹ç•Œå€¼
const MAX_PASSWORD_LENGTH = 128;
const MIN_PASSWORD_LENGTH = 8;

test('should reject password exceeding max length', () => {
  const longPassword = 'a'.repeat(MAX_PASSWORD_LENGTH + 1);
  expect(() => validatePassword(longPassword)).toThrow();
});
```

### æµ‹è¯•è¾¹ç•Œæƒ…å†µ

ç¡®ä¿æµ‹è¯•æ¶µç›– [æµ‹è¯•å®Œæ•´æ€§ç»´åº¦](test-completeness-dimensions.md) å®šä¹‰çš„æ‰€æœ‰å…«ä¸ªç»´åº¦ã€‚è¿™äº›ç»´åº¦åŒ…æ‹¬ï¼šå¿«ä¹è·¯å¾„ã€è¾¹ç•Œæ¡ä»¶ã€é”™è¯¯å¤„ç†ã€æˆæƒã€çŠ¶æ€å˜åŒ–ã€éªŒè¯ã€é›†æˆï¼Œä»¥åŠ AI ç”Ÿæˆè´¨é‡ï¼ˆé€‚ç”¨æ—¶ï¼‰ã€‚

è¯·ä½¿ç”¨è¯¥æ–‡ä»¶ä¸­çš„æ£€æŸ¥æ¸…å•æ¥éªŒè¯æ¯ä¸ªåŠŸèƒ½çš„è¦†ç›–ç‡ã€‚

---

## é‡æ„ç­–ç•¥

### ä½•æ—¶é‡æ„

å½“ä½ çœ‹åˆ°ä»£ç å¼‚å‘³æ—¶è¿›è¡Œé‡æ„ã€‚ä½¿ç”¨ä¸‹æ–¹çš„å®Œæ•´ç›®å½•æ¥è¯†åˆ«é—®é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆã€‚

### ä»£ç å¼‚å‘³ç›®å½•

æ ¹æ® Martin Fowler çš„ã€ŠRefactoringã€‹ï¼ˆç¬¬äºŒç‰ˆï¼‰ï¼Œä»£ç å¼‚å‘³åˆ†ä¸ºäº”å¤§ç±»åˆ«ï¼š

#### 1. è†¨èƒ€å‹ï¼ˆBloatersï¼‰

ä»£ç å˜å¾—è¿‡å¤§ä¸”éš¾ä»¥å¤„ç†ã€‚

| å¼‚å‘³ | è¯´æ˜ | é‡æ„æ–¹å¼ |
|------|------|---------|
| **Long Methodï¼ˆè¿‡é•¿æ–¹æ³•ï¼‰** | æ–¹æ³•è¶…è¿‡ 20 è¡Œï¼Œåšå¤ªå¤šäº‹ | Extract Methodã€Replace Temp with Queryã€Introduce Parameter Object |
| **Large Classï¼ˆè¿‡å¤§ç±»ï¼‰** | ç±»æœ‰å¤ªå¤šèŒè´£ | Extract Classã€Extract Subclassã€Extract Interface |
| **Primitive Obsessionï¼ˆåŸºæœ¬ç±»å‹åæ‰§ï¼‰** | è¿‡åº¦ä½¿ç”¨åŸºæœ¬ç±»å‹è€Œéå°å¯¹è±¡ | Replace Primitive with Objectã€Replace Type Code with Classã€Introduce Parameter Object |
| **Long Parameter Listï¼ˆè¿‡é•¿å‚æ•°åˆ—è¡¨ï¼‰** | æ–¹æ³•æœ‰å¤ªå¤šå‚æ•°ï¼ˆ>3 ä¸ªï¼‰ | Introduce Parameter Objectã€Preserve Whole Objectã€Replace Parameter with Method Call |
| **Data Clumpsï¼ˆæ•°æ®æ³¥å›¢ï¼‰** | ç›¸åŒçš„æ•°æ®ç¾¤ç»„ä¸€èµ·å‡ºç° | Extract Classã€Introduce Parameter Objectã€Preserve Whole Object |

#### 2. é¢å‘å¯¹è±¡æ»¥ç”¨è€…ï¼ˆOO Abusersï¼‰

ä¸å®Œæ•´æˆ–ä¸æ­£ç¡®çš„é¢å‘å¯¹è±¡åº”ç”¨ã€‚

| å¼‚å‘³ | è¯´æ˜ | é‡æ„æ–¹å¼ |
|------|------|---------|
| **Switch Statementsï¼ˆSwitch è¯­å¥ï¼‰** | å¤æ‚çš„ switch/if-else é“¾åŸºäºç±»å‹ | Replace Conditional with Polymorphismã€Replace Type Code with Strategyã€Replace Type Code with State |
| **Temporary Fieldï¼ˆä¸´æ—¶å­—æ®µï¼‰** | åªåœ¨æŸäº›æƒ…å†µä¸‹æœ‰å€¼çš„å­—æ®µ | Extract Classã€Introduce Null Objectã€Introduce Special Case |
| **Refused Bequestï¼ˆè¢«æ‹’ç»çš„é—äº§ï¼‰** | å­ç±»ä¸ä½¿ç”¨ç»§æ‰¿çš„æ–¹æ³• | Push Down Methodã€Push Down Fieldã€Replace Inheritance with Delegation |
| **Alternative Classes with Different Interfacesï¼ˆæ¥å£ä¸åŒçš„æ›¿ä»£ç±»ï¼‰** | åšç›¸åŒäº‹æƒ…ä½†æœ‰ä¸åŒæ–¹æ³•ç­¾åçš„ç±» | Rename Methodã€Move Methodã€Extract Superclass |
| **Parallel Inheritance Hierarchiesï¼ˆå¹³è¡Œç»§æ‰¿å±‚æ¬¡ï¼‰** | åˆ›å»ºå­ç±»éœ€è¦åœ¨å¦ä¸€ä¸ªå±‚æ¬¡ä¸­åˆ›å»ºå¦ä¸€ä¸ª | Move Methodã€Move Field |

#### 3. å˜æ›´é˜»ç¢è€…ï¼ˆChange Preventersï¼‰

ä½¿å˜æ›´æ¯”å¿…è¦æ›´å›°éš¾çš„ä»£ç ã€‚

| å¼‚å‘³ | è¯´æ˜ | é‡æ„æ–¹å¼ |
|------|------|---------|
| **Divergent Changeï¼ˆå‘æ•£å¼å˜æ›´ï¼‰** | ä¸€ä¸ªç±»å› å¤šç§ä¸åŒåŸå› è¢«ä¿®æ”¹ | Extract Classã€Split Phase |
| **Shotgun Surgeryï¼ˆæ•£å¼¹æªæ‰‹æœ¯ï¼‰** | ä¸€ä¸ªå˜æ›´éœ€è¦ä¿®æ”¹å¤šä¸ªç±» | Move Methodã€Move Fieldã€Inline Functionã€Inline Class |
| **Parallel Inheritance Hierarchiesï¼ˆå¹³è¡Œç»§æ‰¿å±‚æ¬¡ï¼‰** | ï¼ˆè§ä¸Šæ–¹ï¼‰ | Move Methodã€Move Field |

#### 4. å¯æœ‰å¯æ— è€…ï¼ˆDispensablesï¼‰

å¯ä»¥ç§»é™¤çš„ä¸å¿…è¦ä»£ç ã€‚

| å¼‚å‘³ | è¯´æ˜ | é‡æ„æ–¹å¼ |
|------|------|---------|
| **Commentsï¼ˆæ³¨é‡Šï¼‰** | éšè—ç³Ÿç³•ä»£ç çš„è¿‡å¤šæ³¨é‡Š | Extract Methodã€Rename Methodã€Introduce Assertion |
| **Duplicate Codeï¼ˆé‡å¤ä»£ç ï¼‰** | å¤šå¤„ç›¸åŒæˆ–ç›¸ä¼¼çš„ä»£ç  | Extract Methodã€Pull Up Methodã€Extract Classã€Slide Statements |
| **Dead Codeï¼ˆæ­»ä»£ç ï¼‰** | æœªä½¿ç”¨çš„ä»£ç ï¼ˆå˜é‡ã€æ–¹æ³•ã€ç±»ï¼‰ | Remove Dead Code |
| **Lazy Classï¼ˆæ‡’æƒ°ç±»ï¼‰** | åšå¤ªå°‘äº‹è€Œä¸å€¼å¾—å­˜åœ¨çš„ç±» | Inline Classã€Collapse Hierarchy |
| **Speculative Generalityï¼ˆæ¨æµ‹å¼é€šç”¨æ€§ï¼‰** | ã€Œä¸ºå°†æ¥ä½¿ç”¨ã€çš„æœªä½¿ç”¨æŠ½è±¡ | Collapse Hierarchyã€Inline Functionã€Inline Classã€Remove Dead Code |
| **Data Classï¼ˆæ•°æ®ç±»ï¼‰** | åªæœ‰å­—æ®µå’Œ getter/setter çš„ç±» | Move Methodã€Encapsulate Fieldã€Encapsulate Collection |

#### 5. è€¦åˆè€…ï¼ˆCouplersï¼‰

ç±»ä¹‹é—´è¿‡åº¦è€¦åˆçš„ä»£ç ã€‚

| å¼‚å‘³ | è¯´æ˜ | é‡æ„æ–¹å¼ |
|------|------|---------|
| **Feature Envyï¼ˆåŠŸèƒ½å«‰å¦’ï¼‰** | æ–¹æ³•ä½¿ç”¨å¦ä¸€ä¸ªç±»çš„æ•°æ®å¤šäºè‡ªå·±çš„ | Move Methodã€Extract Method |
| **Inappropriate Intimacyï¼ˆä¸å½“äº²å¯†ï¼‰** | ç±»è¿‡äºç´§å¯†è€¦åˆï¼Œè®¿é—®å½¼æ­¤çš„ç§æœ‰éƒ¨åˆ† | Move Methodã€Move Fieldã€Hide Delegateã€Replace Delegation with Inheritance |
| **Message Chainsï¼ˆæ¶ˆæ¯é“¾ï¼‰** | `a.getB().getC().getD().getValue()` | Hide Delegateã€Extract Methodã€Move Method |
| **Middle Manï¼ˆä¸­é—´äººï¼‰** | ç±»åªæ˜¯å§”æ‰˜ç»™å¦ä¸€ä¸ªç±» | Remove Middle Manã€Inline Functionã€Replace Superclass with Delegate |

### ä»£ç å¼‚å‘³æ£€æµ‹æ£€æŸ¥æ¸…å•

å¿«é€Ÿæ£€æŸ¥æ¸…å•ä»¥è¯†åˆ«å¸¸è§å¼‚å‘³ï¼š

```
æ–¹æ³•/å‡½æ•°å±‚çº§ï¼š
â–¡ æ–¹æ³• > 20 è¡Œï¼Ÿ â†’ Extract Method
â–¡ > 3 ä¸ªå‚æ•°ï¼Ÿ â†’ Introduce Parameter Object
â–¡ æ·±åº¦åµŒå¥—ï¼ˆ> 3 å±‚ï¼‰ï¼Ÿ â†’ Extract Methodã€Replace Nested Conditional with Guard Clauses
â–¡ å¤šä¸ª return è¯­å¥ï¼Ÿ â†’ è€ƒè™‘é‡æ„

ç±»å±‚çº§ï¼š
â–¡ ç±» > 200 è¡Œï¼Ÿ â†’ Extract Class
â–¡ > 10 ä¸ªæ–¹æ³•ï¼Ÿ â†’ è€ƒè™‘æ‹†åˆ†èŒè´£
â–¡ ä¸Šå¸ç±»ï¼ˆä»€ä¹ˆéƒ½åšï¼‰ï¼Ÿ â†’ Extract Class
â–¡ æ•°æ®ç±»ï¼ˆåªæœ‰å­—æ®µï¼‰ï¼Ÿ â†’ æŠŠè¡Œä¸ºç§»è¿›æ¥

ä»£ç æ¨¡å¼ï¼š
â–¡ åŸºäºç±»å‹çš„ Switchï¼Ÿ â†’ Replace with Polymorphism
â–¡ å¤åˆ¶ç²˜è´´ä»£ç ï¼Ÿ â†’ Extract Method/Class
â–¡ æœªä½¿ç”¨çš„ä»£ç ï¼Ÿ â†’ åˆ é™¤å®ƒ
â–¡ é­”æ³•æ•°å­—ï¼Ÿ â†’ Replace with Named Constant
```

### å®‰å…¨é‡æ„æ£€æŸ¥æ¸…å•

```
é‡æ„å‰ï¼š
â–¡ æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ï¼ˆç»¿è‰²ï¼‰
â–¡ æœ‰è¶³å¤Ÿçš„æµ‹è¯•è¦†ç›–
â–¡ ä½ ç†è§£ä»£ç åœ¨åšä»€ä¹ˆ

é‡æ„ä¸­ï¼š
â–¡ ä¸€æ¬¡åªåšã€Œä¸€ä¸ªã€å°å˜æ›´
â–¡ ã€Œæ¯æ¬¡ã€å˜æ›´åæ‰§è¡Œæµ‹è¯•
â–¡ å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œç«‹å³æ¢å¤
â–¡ é‡æ„æ—¶ä¸è¦æ–°å¢åŠŸèƒ½

é‡æ„åï¼š
â–¡ æ‰€æœ‰æµ‹è¯•ä»ç„¶é€šè¿‡
â–¡ ä»£ç æ›´å¹²å‡€/ç®€å•
â–¡ æ²¡æœ‰æ–°å¢åŠŸèƒ½
```

### å¸¸è§é‡æ„æŠ€æœ¯

| æŠ€æœ¯ | ä½¿ç”¨æ—¶æœº | ç¤ºä¾‹ |
|------|---------|------|
| **Extract Method** | è¿‡é•¿æ–¹æ³•ã€é‡å¤ä»£ç  | æå– 10 è¡Œåˆ° `calculateDiscount()` |
| **Rename** | ä¸æ¸…æ¥šçš„åç§° | `calc()` â†’ `calculateOrderTotal()` |
| **Inline** | è¿‡åº¦æŠ½è±¡ | ç§»é™¤ä¸å¿…è¦çš„åŒ…è£…å‡½æ•° |
| **Extract Variable** | å¤æ‚è¡¨è¾¾å¼ | `const isEligible = age >= 18 && hasLicense` |
| **Replace Conditional with Polymorphism** | å¤æ‚çš„ switch/if é“¾ | ä½¿ç”¨ç­–ç•¥æ¨¡å¼ |
| **Introduce Parameter Object** | å¤ªå¤šå‚æ•° | `(x, y, width, height)` â†’ `Rectangle rect` |

---

## TDD ä¸­çš„æµ‹è¯•æ›¿èº«

### æµ‹è¯•æ›¿èº«ç±»å‹

| ç±»å‹ | ç›®çš„ | ä½¿ç”¨æ—¶æœº |
|------|------|---------|
| **Dummy** | å¡«å……å‚æ•°åˆ—è¡¨ | å¿…è¦å‚æ•°ä½†æµ‹è¯•ä¸­æœªä½¿ç”¨ |
| **Stub** | å›ä¼ é¢„å®šä¹‰çš„å€¼ | æ¨¡æ‹Ÿç‰¹å®šåœºæ™¯ |
| **Spy** | è®°å½•äº’åŠ¨ | éªŒè¯æ–¹æ³•æ˜¯å¦è¢«å‘¼å« |
| **Mock** | éªŒè¯äº’åŠ¨ + å›ä¼ å€¼ | æµ‹è¯•è¡Œä¸ºå’Œåä½œ |
| **Fake** | ç®€åŒ–çš„å®ä½œ | è®°å¿†ä½“å†…èµ„æ–™åº“ |

### ä¾æµ‹è¯•å±‚çº§çš„æµ‹è¯•æ›¿èº«ä½¿ç”¨

| å±‚çº§ | å»ºè®®çš„æ›¿èº« |
|------|-----------|
| **å•å…ƒæµ‹è¯•** | æ‰€æœ‰å¤–éƒ¨ä¾èµ–ä½¿ç”¨ Mockã€Stub |
| **é›†æˆæµ‹è¯•** | DB ä½¿ç”¨ Fakeï¼Œå¤–éƒ¨ API ä½¿ç”¨ Stub |
| **ç³»ç»Ÿæµ‹è¯•** | çœŸå®å…ƒä»¶ï¼Œåªæœ‰å¤–éƒ¨æœåŠ¡ä½¿ç”¨ Fake |
| **E2E æµ‹è¯•** | å…¨éƒ¨ä½¿ç”¨çœŸå® |

### èŒƒä¾‹ï¼šä½¿ç”¨ Mock å’Œ Stub

```typescript
// Stub èŒƒä¾‹ - é¢„å®šä¹‰çš„å›ä¼ å€¼
const paymentGateway = {
  processPayment: jest.fn().mockResolvedValue({ success: true, transactionId: 'TXN123' })
};

// Mock èŒƒä¾‹ - éªŒè¯äº’åŠ¨
const emailService = {
  sendConfirmation: jest.fn()
};

test('should send confirmation email after successful payment', async () => {
  const order = new OrderService(paymentGateway, emailService);

  await order.checkout({ amount: 100, email: 'user@example.com' });

  // éªŒè¯ mock æ˜¯å¦ä½¿ç”¨æ­£ç¡®çš„å‚æ•°è¢«å‘¼å«
  expect(emailService.sendConfirmation).toHaveBeenCalledWith(
    'user@example.com',
    expect.objectContaining({ transactionId: 'TXN123' })
  );
});
```

### é¿å…è¿‡åº¦ Mock

```
âŒ è¿‡åº¦ mockï¼ˆæµ‹è¯•å®ä½œç»†èŠ‚ï¼‰ï¼š
- Mock ç§æœ‰æ–¹æ³•
- Mock æ¯ä¸€ä¸ªä¾èµ–
- éªŒè¯æ¯ä¸€ä¸ªå†…éƒ¨æ–¹æ³•å‘¼å«

âœ… é€‚å½“çš„ mockï¼š
- Mock å¤–éƒ¨æœåŠ¡ï¼ˆAPIã€èµ„æ–™åº“ï¼‰
- Mock æ…¢é€Ÿæ“ä½œï¼ˆæ¡£æ¡ˆ I/Oã€ç½‘è·¯ï¼‰
- Mock éç¡®å®šæ€§æ“ä½œï¼ˆæ—¶é—´ã€éšæœºï¼‰
```

---

## åæ¨¡å¼ä¸ä¿®å¤

### ç¨‹åºç å±‚çº§åæ¨¡å¼

| åæ¨¡å¼ | è¯´æ˜ | å½±å“ | ä¿®å¤æ–¹å¼ |
|--------|------|------|---------|
| **æµ‹è¯•å®ä½œç»†èŠ‚** | æµ‹è¯•ç§æœ‰æ–¹æ³•æˆ–å†…éƒ¨çŠ¶æ€ | è„†å¼±çš„æµ‹è¯•ï¼Œé‡æ„ä¼šç ´åæµ‹è¯• | åªæµ‹è¯•å…¬å¼€è¡Œä¸º |
| **è¿‡åº¦ Mock** | Mock æ‰€æœ‰ä¸œè¥¿ï¼Œå¤±å»çœŸå®æ€§ | è™šå‡çš„ä¿¡å¿ƒï¼Œbug è¿›å…¥ç”Ÿäº§ç¯å¢ƒ | å¹³è¡¡ mock å’ŒçœŸå®å…ƒä»¶ |
| **æµ‹è¯•ç›¸ä¾æ€§** | æµ‹è¯•ä¾èµ–æ‰§è¡Œé¡ºåº | éšæœºå¤±è´¥ï¼Œéš¾ä»¥éš”ç¦» | æ¯ä¸ªæµ‹è¯•è®¾ç½®è‡ªå·±çš„çŠ¶æ€ |
| **é­”æœ¯æ•°å­—/å­—ä¸²** | æ²¡æœ‰æ„ä¹‰çš„ç¡¬ç¼–ç å€¼ | å¯è¯»æ€§å·®ï¼Œç»´æŠ¤å™©æ¢¦ | ä½¿ç”¨å‘½åå¸¸æ•°ã€å»ºæ„å™¨ |
| **ç¼ºå°‘æ–­è¨€** | æµ‹è¯•æ²¡æœ‰é€‚å½“çš„æ–­è¨€ | å‡é˜³æ€§ | æ¯ä¸ªæµ‹è¯•éœ€è¦æ˜ç¡®çš„æ–­è¨€ |
| **ä¸ç¨³å®šæµ‹è¯•** | æœ‰æ—¶é€šè¿‡ï¼Œæœ‰æ—¶å¤±è´¥ | å¯¹æµ‹è¯•å¥—ä»¶ä¿¡ä»»åº¦é™ä½ | æ¶ˆé™¤æ—¶é—´/é¡ºåºä¾èµ– |
| **è¿‡å¤§çš„ Arrange åŒºå—** | æ¯ä¸ªæµ‹è¯•éƒ½æœ‰å¤æ‚è®¾ç½® | éš¾ä»¥ç†è§£ã€ç»´æŠ¤ | æå–è®¾ç½®åˆ°å»ºæ„å™¨/fixtures |
| **æµ‹è¯•ä¸­çš„æ¡ä»¶é€»è¾‘** | æµ‹è¯•ç¨‹åºç ä¸­çš„ if/else | ä¸€ä¸ªæµ‹è¯•ä¸­æœ‰å¤šä¸ªæµ‹è¯• | åˆ†å‰²æˆç‹¬ç«‹çš„æµ‹è¯• |
| **æµ‹è¯•ç¨‹åºç é‡å¤** | è®¸å¤šæµ‹è¯•ä¸­ç›¸åŒçš„è®¾ç½® | ç»´æŠ¤è´Ÿæ‹… | æå–å…±äº«è®¾ç½® |
| **è¿‡äºç‰¹å®šçš„æ–­è¨€** | æ–­è¨€æ¯ä¸€ä¸ªæ ä½ | è„†å¼±çš„æµ‹è¯• | åªæ–­è¨€ç›¸å…³æ ä½ |
| **å¿½ç•¥æµ‹è¯•å¤±è´¥** | è·³è¿‡æˆ–æ³¨è§£æ‰å¤±è´¥çš„æµ‹è¯• | éšè—çš„ bug | ä¿®å¤æˆ–ç§»é™¤å¤±è´¥çš„æµ‹è¯• |
| **æµ‹è¯•ç¬¬ä¸‰æ–¹ç¨‹åºç ** | æµ‹è¯•ç¨‹åºåº“/æ¡†æ¶è¡Œä¸º | æµªè´¹åŠªåŠ› | ä¿¡ä»»ç¬¬ä¸‰æ–¹ï¼Œæµ‹è¯•ä½ çš„ç¨‹åºç  |
| **ä¸€ä¸ªå·¨å¤§çš„æµ‹è¯•** | å•ä¸€æµ‹è¯•æ¶µç›–æ‰€æœ‰ | éš¾ä»¥è¯Šæ–­å¤±è´¥ | åˆ†å‰²æˆèšç„¦çš„æµ‹è¯• |
| **æ²¡æœ‰æµ‹è¯•åç§°** | `test1`ã€`test2` | æ— æ³•ç†è§£ | ä½¿ç”¨æè¿°æ€§åç§° |
| **æ•è·æ‰€æœ‰ä¾‹å¤–** | æµ‹è¯•ä¸­çš„ `catch (Exception e)` | éšè—çš„å¤±è´¥ | æ•è·ç‰¹å®šä¾‹å¤– |

### æµç¨‹å±‚çº§åæ¨¡å¼

| åæ¨¡å¼ | è¯´æ˜ | å½±å“ | ä¿®å¤æ–¹å¼ |
|--------|------|------|---------|
| **è·³è¿‡çº¢è‰²é˜¶æ®µ** | åœ¨æµ‹è¯•ä¹‹å‰å†™ç¨‹åºç  | å¤±å» TDD è®¾è®¡ä¼˜ç‚¹ | çºªå¾‹ï¼šå§‹ç»ˆå…ˆå†™å¤±è´¥çš„æµ‹è¯• |
| **è·³è¿‡é‡æ„é˜¶æ®µ** | ä»ä¸æ¸…ç† | æŠ€æœ¯å€ºç´¯ç§¯ | å®‰æ’é‡æ„æ—¶é—´ |
| **å¼€å‘åæµ‹è¯• (TAD)** | ç¨‹åºç å®Œæˆåæ‰å†™æµ‹è¯• | ä¸æ˜¯ TDDï¼Œé”™è¿‡è®¾è®¡å›é¦ˆ | çœŸæ­£çš„ TDDï¼šæµ‹è¯•ä¼˜å…ˆ |
| **ä¸€æ¬¡å†™æ‰€æœ‰æµ‹è¯•** | åŒæ—¶å†™æ‰€æœ‰æµ‹è¯• | ä¸å ªè´Ÿè·ï¼Œè¦†ç›–ç‡å·® | ä¸€æ¬¡ä¸€ä¸ªæµ‹è¯• |
| **100% è¦†ç›–ç‡è¿·æ€** | è¿½æ±‚è¦†ç›–ç‡æŒ‡æ ‡ | æ— æ„ä¹‰çš„æµ‹è¯• | ä¸“æ³¨äºè¡Œä¸ºè¦†ç›– |
| **ä¸å®¡æŸ¥æµ‹è¯•** | PR ä¸­ä¸å®¡æŸ¥æµ‹è¯• | æµ‹è¯•å“è´¨å·® | åœ¨ç¨‹åºç å®¡æŸ¥ä¸­åŒ…å«æµ‹è¯• |
| **å»¶è¿Ÿæ‰§è¡Œæµ‹è¯•** | ä¸å¸¸æ‰§è¡Œæµ‹è¯• | å›é¦ˆå»¶è¿Ÿ | æŒç»­æ‰§è¡Œæµ‹è¯• |
| **å¿½ç•¥æ…¢é€Ÿæµ‹è¯•** | è®©æµ‹è¯•å¥—ä»¶å˜æ…¢ | å¼€å‘è€…è·³è¿‡æµ‹è¯• | ä¼˜åŒ–æˆ–å¹¶è¡ŒåŒ– |
| **TDD ç‹‚çƒ­** | åˆ°å¤„å¼ºåˆ¶ä½¿ç”¨ TDD | å›¢é˜ŸæŒ«è´¥ | åŠ¡å®åœ°åº”ç”¨ TDD |
| **ä¸ç»´æŠ¤æµ‹è¯•** | è®©æµ‹è¯•è…è´¥ | å‡é˜³æ€§/å‡é˜´æ€§ | å°†æµ‹è¯•è§†ä¸ºç”Ÿäº§ç¨‹åºç  |

### è¯Šæ–­ä¸ä¿®å¤æ­¥éª¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           åæ¨¡å¼è¯Šæ–­å·¥ä½œæµç¨‹                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ç—‡çŠ¶ï¼šé‡æ„æ—¶æµ‹è¯•ç»å¸¸å¤±è´¥                                         â”‚
â”‚  â”œâ”€ å¯èƒ½åŸå› ï¼šæµ‹è¯•å®ä½œç»†èŠ‚                                        â”‚
â”‚  â””â”€ ä¿®å¤ï¼šå®¡æŸ¥æµ‹è¯•ï¼Œç¡®ä¿åªæµ‹è¯•è¡Œä¸º                                 â”‚
â”‚                                                                 â”‚
â”‚  ç—‡çŠ¶ï¼šæµ‹è¯•é€šè¿‡ä½† bug è¿›å…¥ç”Ÿäº§ç¯å¢ƒ                                 â”‚
â”‚  â”œâ”€ å¯èƒ½åŸå› ï¼šè¿‡åº¦ mockï¼Œç¼ºå°‘è¾¹ç•Œæƒ…å†µ                              â”‚
â”‚  â””â”€ ä¿®å¤ï¼šæ–°å¢é›†æˆæµ‹è¯•ï¼Œå®¡æŸ¥è¦†ç›–å·®è·                               â”‚
â”‚                                                                 â”‚
â”‚  ç—‡çŠ¶ï¼šæµ‹è¯•éšæœºå¤±è´¥                                               â”‚
â”‚  â”œâ”€ å¯èƒ½åŸå› ï¼šæµ‹è¯•ç›¸ä¾æ€§ï¼Œæ—¶é—´é—®é¢˜                                 â”‚
â”‚  â””â”€ ä¿®å¤ï¼šéš”ç¦»æµ‹è¯•ï¼Œmock æ—¶é—´ç›¸å…³æ“ä½œ                              â”‚
â”‚                                                                 â”‚
â”‚  ç—‡çŠ¶ï¼šæµ‹è¯•å¥—ä»¶æ‰§è¡Œæ—¶é—´å¤ªé•¿                                        â”‚
â”‚  â”œâ”€ å¯èƒ½åŸå› ï¼šé›†æˆæµ‹è¯•å¤ªå¤šï¼Œæ…¢é€Ÿ I/O                               â”‚
â”‚  â””â”€ ä¿®å¤ï¼šå¢åŠ å•å…ƒæµ‹è¯•æ¯”ä¾‹ï¼Œå¹¶è¡ŒåŒ–                                 â”‚
â”‚                                                                 â”‚
â”‚  ç—‡çŠ¶ï¼šå›¢é˜Ÿå›é¿å†™æµ‹è¯•                                             â”‚
â”‚  â”œâ”€ å¯èƒ½åŸå› ï¼šæµ‹è¯•å¤ªå¤æ‚ï¼Œå·¥å…·ä¸ä½³                                 â”‚
â”‚  â””â”€ ä¿®å¤ï¼šç®€åŒ–æµ‹è¯•è®¾ç½®ï¼Œæ”¹å–„æµ‹è¯•å·¥å…·                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## è¯­è¨€/æ¡†æ¶å®è·µ

è¯¦ç»†çš„è¯­è¨€ç‰¹å®š TDD èŒƒä¾‹ï¼Œè¯·å‚é˜… TDD Assistant skillï¼š
- [è¯­è¨€èŒƒä¾‹](../skills/claude-code/tdd-assistant/language-examples.md)

### ä¾è¯­è¨€å¿«é€Ÿå‚è€ƒ

| è¯­è¨€ | æµ‹è¯•æ¡†æ¶ | Mock ç¨‹åºåº“ | BDD å·¥å…· |
|------|---------|------------|---------|
| **JavaScript/TypeScript** | Jest, Vitest | jest.mock, vitest.mock | Cucumber.js |
| **Python** | pytest, unittest | unittest.mock, pytest-mock | Behave |
| **C#** | xUnit, NUnit, MSTest | Moq, NSubstitute | SpecFlow |
| **Java** | JUnit 5, TestNG | Mockito, EasyMock | Cucumber-JVM |
| **Go** | testing | testify/mock | godog |
| **Ruby** | RSpec, minitest | rspec-mocks | Cucumber |

### æ¡†æ¶é€‰æ‹©æŒ‡å—

| è€ƒé‡ | å»ºè®® |
|------|------|
| **æ–°ä¸“æ¡ˆ** | ä½¿ç”¨ IDE æ”¯æ´æœ€å¥½çš„æ¡†æ¶ |
| **å›¢é˜Ÿç»éªŒ** | ä½¿ç”¨å›¢é˜Ÿæœ€ç†Ÿæ‚‰çš„ |
| **ç°æœ‰ç¨‹åºç åº“** | åŒ¹é…ç°æœ‰æµ‹è¯•æ¡†æ¶ |
| **éœ€è¦ BDD** | é€‰æ‹©æœ‰ BDD é›†æˆçš„æ¡†æ¶ |
| **é€Ÿåº¦å…³é”®** | è€ƒè™‘å¹¶è¡Œæ‰§è¡Œæ”¯æ´ |

---

## åº¦é‡ä¸è¯„ä¼°

### TDD æˆç†Ÿåº¦æ¨¡å‹

| å±‚çº§ | åç§° | ç‰¹å¾ |
|------|------|------|
| **Level 0** | æ—  TDD | ç¨‹åºç ä¹‹åå†™æµ‹è¯•ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ |
| **Level 1** | æµ‹è¯•ä¼˜å…ˆ | æœ‰æ—¶åœ¨ç¨‹åºç ä¹‹å‰å†™æµ‹è¯• |
| **Level 2** | TDD å®è·µè€… | ä¸€è‡´çš„çº¢-ç»¿-é‡æ„å¾ªç¯ |
| **Level 3** | TDD ä¸“å®¶ | æœ‰æ•ˆçš„æµ‹è¯•æ›¿èº«ï¼Œå¹²å‡€çš„æµ‹è¯• |
| **Level 4** | TDD å¤§å¸ˆ | TDD é©±åŠ¨è®¾è®¡ï¼ŒæŒ‡å¯¼ä»–äºº |

### å…³é”®æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | è­¦ç¤ºé˜ˆå€¼ |
|------|------|---------|
| **ç¨‹åºç è¦†ç›–ç‡** | > 80% | < 60% |
| **æµ‹è¯•å¯¹ç¨‹åºç æ¯”** | 1:1 åˆ° 2:1 | < 0.5:1 |
| **æµ‹è¯•æ‰§è¡Œæ—¶é—´** | < 30 ç§’ï¼ˆå•å…ƒï¼‰ | > 2 åˆ†é’Ÿ |
| **ä¸ç¨³å®šæµ‹è¯•ç‡** | 0% | > 1% |
| **æµ‹è¯•ç»´æŠ¤æˆæœ¬** | < 15% å¼€å‘æ—¶é—´ | > 30% |
| **ç¼ºé™·é€ƒé€¸ç‡** | ä¸‹é™ä¸­ | ä¸Šå‡ä¸­ |

### è¯„ä¼°æ£€æŸ¥æ¸…å•

```
å›¢é˜Ÿ TDD è¯„ä¼°ï¼š

â–¡ åœ¨ç”Ÿäº§ç¨‹åºç ä¹‹å‰å†™æµ‹è¯•
â–¡ éµå¾ªçº¢-ç»¿-é‡æ„å¾ªç¯
â–¡ æµ‹è¯•åç§°æ¸…æ¥šæè¿°è¡Œä¸º
â–¡ æµ‹è¯•æ˜¯ç‹¬ç«‹ä¸”å¯é‡å¤çš„
â–¡ æµ‹è¯•å¥—ä»¶æ‰§è¡Œå¿«é€Ÿï¼ˆ< 2 åˆ†é’Ÿï¼‰
â–¡ æ²¡æœ‰ä¸ç¨³å®šçš„æµ‹è¯•
â–¡ è¶³å¤Ÿçš„è¦†ç›–ç‡ï¼ˆ> 80%ï¼‰
â–¡ ç¨‹åºç å®¡æŸ¥ä¸­å®¡æŸ¥æµ‹è¯•
â–¡ å®šæœŸè¿›è¡Œé‡æ„
â–¡ CI/CD è‡ªåŠ¨æ‰§è¡Œæµ‹è¯•
```

---

## ç›¸å…³æ ‡å‡†

- [æµ‹è¯•æ ‡å‡†](testing-standards.md) - æ ¸å¿ƒæµ‹è¯•æ ‡å‡†ï¼ˆUT/IT/ST/E2Eï¼‰ï¼ˆæˆ–ä½¿ç”¨ `/testing-guide` æŠ€èƒ½ï¼‰
- [æµ‹è¯•å®Œæ•´æ€§ç»´åº¦](test-completeness-dimensions.md) - 8 ç»´åº¦æ¡†æ¶
- [è§„æ ¼é©±åŠ¨å¼€å‘](spec-driven-development.md) - SDD å·¥ä½œæµç¨‹
- [ç¨‹åºç å…¥åº“æ ‡å‡†](checkin-standards.md) - å…¥åº“è¦æ±‚
- [ç¨‹åºç å®¡æŸ¥æ£€æŸ¥æ¸…å•](code-review-checklist.md) - å®¡æŸ¥æŒ‡å—

---

## å‚è€ƒèµ„æ–™

### ä¹¦ç±

- Kent Beck - "Test Driven Development: By Example" (2002)
- Robert C. Martin - "Clean Code" ç¬¬ 9 ç« ï¼šå•å…ƒæµ‹è¯• (2008)
- Michael Feathers - "Working Effectively with Legacy Code" (2004)
- Steve Freeman & Nat Pryce - "Growing Object-Oriented Software, Guided by Tests" (2009)

### æ ‡å‡†

- [IEEE 29119 - è½¯ä½“æµ‹è¯•æ ‡å‡†](https://www.iso.org/standard/81291.html)
- [SWEBOK v4.0 - ç¬¬ 5 ç« ï¼šè½¯ä½“å»ºæ„](https://www.computer.org/education/bodies-of-knowledge/software-engineering)
- [ISTQB è®¤è¯æµ‹è¯•å‘˜åŸºç¡€çº§](https://www.istqb.org/)

### çº¿ä¸Šèµ„æº

- [TDD by Example - Martin Fowler](https://martinfowler.com/bliki/TestDrivenDevelopment.html)
- [The Three Rules of TDD - Uncle Bob](http://butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd)
- [Test Pyramid - Martin Fowler](https://martinfowler.com/bliki/TestPyramid.html)
- [Approval Tests](https://approvaltests.com/)

---

## ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´ |
|------|------|------|
| 1.1.0 | 2026-01-12 | æ–°å¢ï¼šå®Œæ•´ä»£ç å¼‚å‘³ç›®å½•ï¼ˆ22+ ç§å¼‚å‘³åˆ† 5 ç±»ï¼ŒåŸºäº Martin Fowlerã€ŠRefactoringã€‹ç¬¬äºŒç‰ˆï¼‰ã€ä»£ç å¼‚å‘³æ£€æµ‹æ£€æŸ¥æ¸…å• |
| 1.0.0 | 2026-01-07 | åˆå§‹ TDD æ ‡å‡†å®šä¹‰ |

---

## æˆæƒ

æœ¬æ ‡å‡†ä¾æ® [CC BY 4.0](https://creativecommons.org/licenses/by/4.0/) æˆæƒé‡Šå‡ºã€‚

**æ¥æº**: [universal-dev-standards](https://github.com/AsiaOstrich/universal-dev-standards)
