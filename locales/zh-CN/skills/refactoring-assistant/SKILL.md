---
source: ../../../../skills/refactoring-assistant/SKILL.md
source_version: 2.0.0
translation_version: 2.0.0
last_synced: 2026-02-10
status: current
description: |
  引导重构决策、推荐策略，并提供逐步执行工作流程。
  使用时机：重构代码、评估重构 vs 重写、处理遗留代码。
  关键字：refactor, strategy, legacy, technical debt, 重构, 策略, 遗留代码, 技术债。
---

# 重构助手

> **语言**: [English](../../../../skills/refactoring-assistant/SKILL.md) | 简体中文

引导重构决策、推荐策略，并提供逐步执行工作流程。

## 使用方式

| 命令 | 用途 |
|------|------|
| `/refactor` | 启动交互式重构引导 |
| `/refactor decide` | 执行重构 vs 重写决策树 |
| `/refactor tactical` | 建议战术性（日常）策略 |
| `/refactor strategic` | 引导战略性/架构重构 |
| `/refactor legacy` | 遗留代码安全策略 |
| `/refactor debt` | 技术债评估 |

## 策略快速参考

### 战术性策略（日常）

| 策略 | 使用时机 |
|------|---------|
| **准备式重构** | 新增被阻挡的功能之前 |
| **童子军法则** | 任何维护工作中 |
| **红-绿-重构** | TDD 开发循环 |

### 战略性策略（架构）

| 策略 | 使用时机 |
|------|---------|
| **绞杀者无花果** | 逐步替换整个系统 |
| **防腐层** | 与遗留系统集成 |
| **抽象分支** | 在主干上重构共享代码 |

### 安全防护策略（遗留代码）

| 策略 | 使用时机 |
|------|---------|
| **特征化测试** | 任何遗留代码重构之前 |
| **草稿式重构** | 理解黑盒代码 |
| **寻找接缝** | 在遗留代码中注入测试替身 |

## 工作流程

1. **评估** - 识别要重构的代码，评估测试覆盖率
2. **决策** - 需要时执行决策树（重构 vs 重写）
3. **选择策略** - 根据范围和风险选择适当策略
4. **执行** - 遵循逐步工作流程，包含安全检查
5. **验证** - 执行测试以确认行为未被改变

## 参考

- 详细指南：[guide.md](./guide.md)
- 核心规范：[refactoring-standards.md](../../../../core/refactoring-standards.md)
