---
name: spec-driven-dev
description: |
  引导规格驱动开发 (SDD) 工作流程，在实作前规划变更。
  使用时机：建立规格、提案、规划功能、使用 OpenSpec 或类似工具。
  关键字：spec, specification, SDD, proposal, openspec, design doc, 规格, 提案, 设计文件。
source: ../../../../../skills/claude-code/spec-driven-dev/SKILL.md
source_version: 1.0.0
translation_version: 1.0.0
last_synced: 2026-01-08
status: current
---

# 规格驱动开发指南

> **语言**: [English](../../../../../skills/claude-code/spec-driven-dev/SKILL.md) | 繁体中文

**版本**: 1.0.0
**最后更新**: 2025-12-30
**适用范围**: Claude Code Skills

---

## 目的

此技能引导您完成规格驱动开发 (SDD)，确保变更在实作前经过规划、记录和批准。

## 快速参考

### SDD 工作流程

```
┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│     提案     │───▶│     审查     │───▶│     实作     │
└──────────────┘    └──────────────┘    └──────────────┘
                                               │
                                               ▼
                    ┌──────────────┐    ┌──────────────┐
                    │     封存     │◀───│     验证     │
                    └──────────────┘    └──────────────┘
```

### 工作流程阶段

| 阶段 | 说明 | 产出 |
|------|------|------|
| **提案** | 定义变更内容与原因 | `proposal.md` |
| **审查** | 利害关系人批准 | 批准记录 |
| **实作** | 执行已批准的规格 | 程式码、测试、文件 |
| **验证** | 确认实作符合规格 | 测试结果 |
| **封存** | 关闭并封存 | 封存的规格及连结 |

### 核心原则

| 原则 | 说明 |
|------|------|
| **规格优先** | 没有批准的规格就不能进行功能变更 |
| **工具优先** | 有 SDD 工具时优先使用工具指令 |
| **方法论 > 工具** | SDD 可搭配任何工具或手动流程运作 |

### 「规格优先」的例外情况

- 紧急修复（先恢复服务，之后再补文件）
- 琐碎变更（错字、注解、格式调整）

## 提案范本

```markdown
# [SPEC-ID] 功能标题

## 摘要
简要描述提案的变更。

## 动机
为什么需要这个变更？解决什么问题？

## 详细设计
技术方案、受影响的元件、资料流程。

## 验收标准
- [ ] 标准 1
- [ ] 标准 2

## 相依性
列出对其他规格或外部系统的相依性。

## 风险
潜在风险及缓解策略。
```

## 详细指南

完整标准请参考：
- [规格驱动开发标准](../../../core/spec-driven-development.md)

### AI 优化格式（节省 Token）

AI 助手可使用 YAML 格式档案以减少 Token 使用量：
- 基础标准：`ai/standards/spec-driven-development.ai.yaml`

## 与其他标准的整合

### 与提交讯息整合

在提交讯息中引用规格 ID：

```
feat(auth): implement login feature

Implements SPEC-001 login functionality with OAuth2 support.

Refs: SPEC-001
```

### 与 Check-in 标准整合

为规格提交程式码前：

- [ ] 规格已批准
- [ ] 实作符合规格
- [ ] 测试涵盖验收标准
- [ ] PR 中引用规格 ID

### 与程式码审查整合

审查者应验证：

- [ ] 变更符合已批准的规格
- [ ] 没有超出规格的范围扩张
- [ ] 规格验收标准已达成

## 范例

### ✅ 良好做法

```markdown
# SPEC-001 新增 OAuth2 登入

## 摘要
新增 Google OAuth2 登入，让使用者可以用 Google 帐号登入。

## 动机
- 减少新使用者注册的摩擦
- 不储存密码以提升安全性

## 验收标准
- [ ] 使用者可以点击「使用 Google 登入」按钮
- [ ] 新使用者自动注册
- [ ] 现有使用者可连结 Google 帐号
```

### ❌ 不良做法

```markdown
# 新增登入

新增登入功能。
```
- 缺少规格 ID
- 没有动机说明
- 没有验收标准

## 常见 SDD 工具

| 工具 | 说明 | 指令范例 |
|------|------|----------|
| **OpenSpec** | 规格管理 | `/openspec proposal`, `/openspec approve` |
| **Spec Kit** | 轻量规格追踪 | `/spec create`, `/spec close` |
| **手动** | 无工具，档案式 | 手动建立 `specs/SPEC-XXX.md` |

## 最佳实践

### 建议做法

- ✅ 保持规格专注且原子化（一个规格一个变更）
- ✅ 包含清晰的验收标准
- ✅ 将规格连结到实作 PR
- ✅ 完成后封存规格

### 避免做法

- ❌ 在规格批准前开始写程式
- ❌ 实作期间修改范围但不更新规格
- ❌ 让规格处于悬置状态（务必关闭或封存）
- ❌ 跳过验证步骤

---

## 设定侦测

此技能支援专案特定设定。

### 侦测顺序

1. 检查工作区是否有 SDD 工具（OpenSpec、Spec Kit 等）
2. 检查 `CONTRIBUTING.md` 中的规格工作流程文件
3. 若无找到，**预设使用手动档案式工作流程**

### 首次设定

若未找到设定：

1. 询问使用者：「此专案尚未设定 SDD。您要设定 specs 目录吗？」
2. 建议在 `CONTRIBUTING.md` 中记录：

```markdown
## 规格驱动开发

我们对所有非琐碎的变更使用规格驱动开发。

### 流程
1. 在 `specs/` 目录建立提案
2. 取得团队负责人批准
3. 实作并在 PR 中引用规格
4. 合并后封存规格

### 规格范本
请参考 `specs/TEMPLATE.md`
```

---

## 相关标准

- [规格驱动开发标准](../../../core/spec-driven-development.md)
- [提交讯息指南](../../../core/commit-message-guide.md)
- [程式码审查检查清单](../../../core/code-review-checklist.md)

---

## 版本历史

| 版本 | 日期 | 变更 |
|------|------|------|
| 1.0.0 | 2025-12-30 | 初始发布 |

---

## 授权

此技能采用 [CC BY 4.0](https://creativecommons.org/licenses/by/4.0/) 授权。

**来源**: [universal-dev-standards](https://github.com/AsiaOstrich/universal-dev-standards)
