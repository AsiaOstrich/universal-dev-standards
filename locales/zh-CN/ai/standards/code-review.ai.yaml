# ç¨‹åºç å®¡æŸ¥æ¸…å• - AI ä¼˜åŒ–ç‰ˆ
# æ¥æº: core/code-review-checklist.md

id: code-review
meta:
  version: "1.2.0"
  updated: "2026-01-05"
  source: core/code-review-checklist.md
  description: ç³»ç»ŸåŒ–çš„ç¨‹åºç å“è´¨ä¸å®‰å…¨æ€§å®¡æŸ¥æ¸…å•
  language: zh-CN

options:
  review_approach:
    description: é€‰æ‹©ç¨‹åºç å®¡æŸ¥æ–¹æ³•
    multiSelect: true
    choices:
      - id: pr-review
        file: options/code-review/pr-review.ai.yaml
        best_for: åˆ†æ•£å¼å›¢é˜Ÿã€éåŒæ­¥å·¥ä½œæµç¨‹
      - id: pair-programming
        file: options/code-review/pair-programming.ai.yaml
        best_for: è¤‡é›œåŠŸèƒ½ã€çŸ¥è­˜ä¼ æ‰¿
      - id: automated-review
        file: options/code-review/automated-review.ai.yaml
        best_for: CI/CD é›†æˆã€æ•æ‰å¸¸è¦‹å•é¡Œ

checklist:
  functionality:
    - item: ç¨‹åºç æ‰§è¡Œé¢„æœŸçš„åŠŸèƒ½
    - item: é‚Šç·£æ¡ˆä¾‹å·²å¤„ç†
    - item: é”™è¯¯å¤„ç†é©ç•¶
    - item: ç„¡æ˜é¡¯çš„é”™è¯¯æˆ–é‚è¾‘å•é¡Œ

  code_quality:
    - item: ç¨‹åºç å¯è¯»ä¸”è‡ªæˆ‘è¯´æ˜
    - item: å‡½å¼/æ–¹æ³•å…·æœ‰å•ä¸€è·è²¬
    - item: ç„¡ç¨‹åºç é‡è¤‡ï¼ˆDRYï¼‰
    - item: å˜æ•¸/å‡½å¼åç§°å…·æè¿°æ€§
    - item: ç„¡é­”è¡“æ•¸å­—æˆ–ç¡¬ç¼–ç å€¼

  security:
    - item: ç„¡ SQL æ³¨å…¥æ¼æ´
    - item: ç„¡ XSS æ¼æ´
    - item: è¾“å…¥éªŒè¯å­˜åœ¨
    - item: æ•æ„Ÿæ•°æ®æœªè¢«è®°å½•
    - item: è®¤è¯/æˆæƒæ­£ç¡®

  performance:
    - item: ç„¡ä¸å¿…è¦çš„æ•°æ®åº«æŸ¥è©¢
    - item: ç„¡è®°å¿†ä½“æ´©æ¼
    - item: ä½¿ç”¨æœ‰æ•ˆç‡çš„æ¼”ç®—æ³•
    - item: é©ç•¶è€ƒæ…®å¿«å–

  testing:
    - item: åŒ…å«å•å…ƒæµ‹è¯•
    - item: æµ‹è¯•æ¶µè“‹é‚Šç·£æ¡ˆä¾‹
    - item: æµ‹è¯•æœ‰æ„ç¾©ï¼ˆä¸åªæ˜¯ä¸ºäº†è¦†è“‹ç‡ï¼‰

  documentation:
    - item: å…¬é–‹ API å·²è®°å½•
    - item: è¤‡é›œé‚è¾‘æœ‰è¨»è§£
    - item: å¦‚éœ€è¦å·²æ›´æ–° README

comment_prefixes:
  emoji:
    - prefix: "â—"
      meaning: å¿…è¦å˜æ›´ï¼ˆé˜»æ“‹åˆä½µï¼‰
    - prefix: "âš ï¸"
      meaning: å»ºè®®ï¼ˆéé˜»æ“‹ï¼‰
    - prefix: "ğŸ’¡"
      meaning: å¯æœ‰å¯ç„¡
    - prefix: "â“"
      meaning: å•é¡Œ/é‡æ¸…
    - prefix: "ğŸ“"
      meaning: å°å•é¡Œ
    - prefix: "ğŸ‘"
      meaning: è®šè³

  text:
    - prefix: "[REQUIRED]"
      meaning: åˆä½µå‰å¿…é ˆä¿®æ­£
    - prefix: "[SUGGESTION]"
      meaning: è€ƒæ…®å˜æ›´
    - prefix: "[QUESTION]"
      meaning: éœ€è¦é‡æ¸…
    - prefix: "[NIT]"
      meaning: æ¬¡è¦å•é¡Œ
    - prefix: "[PRAISE]"
      meaning: åšå¾—å¥½

rules:
  - id: review-checklist
    trigger: å®¡æŸ¥ç¨‹åºç æ—¶
    instruction: ç³»ç»Ÿæ€§åœ°æ£€æŸ¥æ‰€æœ‰æ¸…å•é¡¹ç›®
    priority: required

  - id: constructive-feedback
    trigger: æ’°å†™å®¡æŸ¥è¯„è«–æ—¶
    instruction: å»ºè®¾æ€§å›é¥‹ï¼›å»ºè®®æ”¹è¿›ï¼Œè€Œéåªæ˜¯æ‰¹è¯„
    priority: required

  - id: explain-why
    trigger: è¦æ±‚å˜æ›´æ—¶
    instruction: è§£é‡‹ä¸ºä»€éº¼éœ€è¦å˜æ›´ï¼Œè€Œä¸åªæ˜¯èªªä»€éº¼è¦æ”¹
    priority: required

  - id: praise-good-code
    trigger: ç™¼ç¾å¥½çš„ç¨‹åºç æ—¶
    instruction: è®¤å¯å¹¶è®šè³å¥½çš„å®ä½œ
    priority: recommended

  - id: timely-review
    trigger: è¢«æŒ‡æ´¾å®¡æŸ¥æ—¶
    instruction: åœ¨ 24 å°æ—¶å…§å®Œæˆå®¡æŸ¥
    priority: recommended

examples:
  good_comment: |
    â— è¿™ä¸ª SQL æŸ¥è©¢æœ‰æ³¨å…¥æ¼æ´ã€‚è«‹ä½¿ç”¨åƒæ•¸åŒ–æŸ¥è©¢ï¼š
    ```sql
    -- é¿å…ï¼š
    $"SELECT * FROM users WHERE id = {userId}"

    -- ä½¿ç”¨ï¼š
    "SELECT * FROM users WHERE id = @userId"
    ```

  suggestion: |
    ğŸ’¡ è€ƒæ…®å°‡æ­¤æå–ä¸ºå•ç¨çš„å‡½å¼ä»¥ä¾¿é‡ç”¨ï¼š
    ```javascript
    function validateEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }
    ```

  praise: |
    ğŸ‘ å¤„ç†è¿™ä¸ªé‚Šç·£æ¡ˆä¾‹åšå¾—å¾ˆå¥½ï¼null æ£€æŸ¥é˜²æ­¢äº†æ½›åœ¨çš„æ‰§è¡Œæ—¶é”™è¯¯ã€‚

quick_reference:
  review_areas:
    columns: [é ˜åŸŸ, é‡ç‚¹]
    rows:
      - [åŠŸèƒ½æ€§, æ­£ç¡®æ€§å’Œé‚Šç·£æ¡ˆä¾‹]
      - [ç¨‹åºç å“è´¨, å¯è¯»æ€§å’Œå¯ç¶­è­·æ€§]
      - [å®‰å…¨æ€§, æ¼æ´å’Œè®¤è¯]
      - [æ•ˆèƒ½, æ•ˆç‡å’Œè³‡æºä½¿ç”¨]
      - [æµ‹è¯•, è¦†è“‹ç‡å’Œå“è´¨]
      - [æ–‡ä»¶, è¨»è§£å’Œæ–‡ä»¶]
