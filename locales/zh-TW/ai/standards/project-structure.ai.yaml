# 專案結構標準 - AI 優化版
# 來源: core/project-structure.md

id: project-structure
meta:
  version: "1.1.0"
  updated: "2025-12-30"
  source: core/project-structure.md
  description: 專案目錄結構慣例
  language: zh-TW

options:
  project_language:
    description: 選擇專案語言/平台
    choices:
      - id: dotnet
        file: options/project-structure/dotnet.ai.yaml
      - id: nodejs
        file: options/project-structure/nodejs.ai.yaml
      - id: python
        file: options/project-structure/python.ai.yaml
      - id: java
        file: options/project-structure/java.ai.yaml
      - id: go
        file: options/project-structure/go.ai.yaml
      - id: rust
        file: options/project-structure/rust.ai.yaml
      - id: kotlin
        file: options/project-structure/kotlin.ai.yaml
      - id: php
        file: options/project-structure/php.ai.yaml
      - id: ruby
        file: options/project-structure/ruby.ai.yaml
      - id: swift
        file: options/project-structure/swift.ai.yaml

structure:
  common:
    - dir: src/
      purpose: 原始碼
      gitignore: false

    - dir: tests/
      purpose: 測試檔案
      gitignore: false

    - dir: docs/
      purpose: 文件
      gitignore: false

    - dir: tools/
      purpose: 開發/部署腳本
      gitignore: false
      subdirs: [deployment/, migration/, scripts/]

    - dir: examples/
      purpose: 使用範例
      gitignore: false

  build_output:
    - dir: dist/
      purpose: 發布輸出
      gitignore: true

    - dir: build/
      purpose: 編譯產物
      gitignore: true

    - dir: out/
      purpose: 輸出目錄
      gitignore: true

    - dir: bin/
      purpose: 二進位執行檔
      gitignore: true

  config:
    - dir: .github/
      purpose: GitHub 設定
      gitignore: false

    - dir: .standards/
      purpose: 開發標準
      gitignore: false

    - dir: config/
      purpose: 設定檔
      gitignore: false

rules:
  - id: gitignore-build
    trigger: 建立專案時
    instruction: 永遠將建置輸出目錄加入 gitignore (dist/, build/, out/, bin/)
    priority: required

  - id: src-structure
    trigger: 組織原始碼時
    instruction: 遵循特定語言的 src/ 結構慣例
    priority: required

  - id: tests-location
    trigger: 組織測試時
    instruction: 將測試放在 tests/ 或原始碼旁邊（依語言而定）
    priority: recommended

  - id: tools-organization
    trigger: 新增腳本時
    instruction: 將腳本依用途分組放在 tools/ 的子目錄中
    priority: recommended

quick_reference:
  directories:
    columns: [目錄, 用途, gitignore]
    rows:
      - [src/, 原始碼, 否]
      - [tests/, 測試檔案, 否]
      - [docs/, 文件, 否]
      - [tools/, 腳本, 否]
      - [dist/, 建置輸出, 是]
      - [build/, 編譯產物, 是]
      - [node_modules/, 相依套件, 是]
      - [.env, 環境變數, 是]

  gitignore_patterns:
    columns: [模式, 用途]
    rows:
      - ["dist/", 建置輸出]
      - ["build/", 編譯產物]
      - ["*.log", 日誌檔案]
      - [".env*", 環境變數檔]
      - ["node_modules/", Node 相依套件]
      - ["__pycache__/", Python 快取]
      - ["*.pyc", Python 位元碼]
      - [".venv/", Python 虛擬環境]
