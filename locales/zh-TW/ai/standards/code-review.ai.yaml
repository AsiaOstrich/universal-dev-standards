# ç¨‹å¼ç¢¼å¯©æŸ¥æ¸…å–® - AI å„ªåŒ–ç‰ˆ
# ä¾†æº: core/code-review-checklist.md

id: code-review
meta:
  version: "1.1.0"
  updated: "2025-12-30"
  source: core/code-review-checklist.md
  description: ç³»çµ±åŒ–çš„ç¨‹å¼ç¢¼å“è³ªèˆ‡å®‰å…¨æ€§å¯©æŸ¥æ¸…å–®
  language: zh-TW

options:
  review_approach:
    description: é¸æ“‡ç¨‹å¼ç¢¼å¯©æŸ¥æ–¹æ³•
    multiSelect: true
    choices:
      - id: pr-review
        file: options/code-review/pr-review.ai.yaml
        best_for: åˆ†æ•£å¼åœ˜éšŠã€éåŒæ­¥å·¥ä½œæµç¨‹
      - id: pair-programming
        file: options/code-review/pair-programming.ai.yaml
        best_for: è¤‡é›œåŠŸèƒ½ã€çŸ¥è­˜å‚³æ‰¿
      - id: automated-review
        file: options/code-review/automated-review.ai.yaml
        best_for: CI/CD æ•´åˆã€æ•æ‰å¸¸è¦‹å•é¡Œ

checklist:
  functionality:
    - item: ç¨‹å¼ç¢¼åŸ·è¡Œé æœŸçš„åŠŸèƒ½
    - item: é‚Šç·£æ¡ˆä¾‹å·²è™•ç†
    - item: éŒ¯èª¤è™•ç†é©ç•¶
    - item: ç„¡æ˜é¡¯çš„éŒ¯èª¤æˆ–é‚è¼¯å•é¡Œ

  code_quality:
    - item: ç¨‹å¼ç¢¼å¯è®€ä¸”è‡ªæˆ‘èªªæ˜
    - item: å‡½å¼/æ–¹æ³•å…·æœ‰å–®ä¸€è·è²¬
    - item: ç„¡ç¨‹å¼ç¢¼é‡è¤‡ï¼ˆDRYï¼‰
    - item: è®Šæ•¸/å‡½å¼åç¨±å…·æè¿°æ€§
    - item: ç„¡é­”è¡“æ•¸å­—æˆ–ç¡¬ç·¨ç¢¼å€¼

  security:
    - item: ç„¡ SQL æ³¨å…¥æ¼æ´
    - item: ç„¡ XSS æ¼æ´
    - item: è¼¸å…¥é©—è­‰å­˜åœ¨
    - item: æ•æ„Ÿè³‡æ–™æœªè¢«è¨˜éŒ„
    - item: èªè­‰/æˆæ¬Šæ­£ç¢º

  performance:
    - item: ç„¡ä¸å¿…è¦çš„è³‡æ–™åº«æŸ¥è©¢
    - item: ç„¡è¨˜æ†¶é«”æ´©æ¼
    - item: ä½¿ç”¨æœ‰æ•ˆç‡çš„æ¼”ç®—æ³•
    - item: é©ç•¶è€ƒæ…®å¿«å–

  testing:
    - item: åŒ…å«å–®å…ƒæ¸¬è©¦
    - item: æ¸¬è©¦æ¶µè“‹é‚Šç·£æ¡ˆä¾‹
    - item: æ¸¬è©¦æœ‰æ„ç¾©ï¼ˆä¸åªæ˜¯ç‚ºäº†è¦†è“‹ç‡ï¼‰

  documentation:
    - item: å…¬é–‹ API å·²è¨˜éŒ„
    - item: è¤‡é›œé‚è¼¯æœ‰è¨»è§£
    - item: å¦‚éœ€è¦å·²æ›´æ–° README

comment_prefixes:
  emoji:
    - prefix: "â—"
      meaning: å¿…è¦è®Šæ›´ï¼ˆé˜»æ“‹åˆä½µï¼‰
    - prefix: "âš ï¸"
      meaning: å»ºè­°ï¼ˆéé˜»æ“‹ï¼‰
    - prefix: "ğŸ’¡"
      meaning: å¯æœ‰å¯ç„¡
    - prefix: "â“"
      meaning: å•é¡Œ/é‡æ¸…
    - prefix: "ğŸ“"
      meaning: å°å•é¡Œ
    - prefix: "ğŸ‘"
      meaning: è®šè³

  text:
    - prefix: "[REQUIRED]"
      meaning: åˆä½µå‰å¿…é ˆä¿®æ­£
    - prefix: "[SUGGESTION]"
      meaning: è€ƒæ…®è®Šæ›´
    - prefix: "[QUESTION]"
      meaning: éœ€è¦é‡æ¸…
    - prefix: "[NIT]"
      meaning: æ¬¡è¦å•é¡Œ
    - prefix: "[PRAISE]"
      meaning: åšå¾—å¥½

rules:
  - id: review-checklist
    trigger: å¯©æŸ¥ç¨‹å¼ç¢¼æ™‚
    instruction: ç³»çµ±æ€§åœ°æª¢æŸ¥æ‰€æœ‰æ¸…å–®é …ç›®
    priority: required

  - id: constructive-feedback
    trigger: æ’°å¯«å¯©æŸ¥è©•è«–æ™‚
    instruction: å»ºè¨­æ€§å›é¥‹ï¼›å»ºè­°æ”¹é€²ï¼Œè€Œéåªæ˜¯æ‰¹è©•
    priority: required

  - id: explain-why
    trigger: è¦æ±‚è®Šæ›´æ™‚
    instruction: è§£é‡‹ç‚ºä»€éº¼éœ€è¦è®Šæ›´ï¼Œè€Œä¸åªæ˜¯èªªä»€éº¼è¦æ”¹
    priority: required

  - id: praise-good-code
    trigger: ç™¼ç¾å¥½çš„ç¨‹å¼ç¢¼æ™‚
    instruction: èªå¯ä¸¦è®šè³å¥½çš„å¯¦ä½œ
    priority: recommended

  - id: timely-review
    trigger: è¢«æŒ‡æ´¾å¯©æŸ¥æ™‚
    instruction: åœ¨ 24 å°æ™‚å…§å®Œæˆå¯©æŸ¥
    priority: recommended

examples:
  good_comment: |
    â— é€™å€‹ SQL æŸ¥è©¢æœ‰æ³¨å…¥æ¼æ´ã€‚è«‹ä½¿ç”¨åƒæ•¸åŒ–æŸ¥è©¢ï¼š
    ```sql
    -- é¿å…ï¼š
    $"SELECT * FROM users WHERE id = {userId}"

    -- ä½¿ç”¨ï¼š
    "SELECT * FROM users WHERE id = @userId"
    ```

  suggestion: |
    ğŸ’¡ è€ƒæ…®å°‡æ­¤æå–ç‚ºå–®ç¨çš„å‡½å¼ä»¥ä¾¿é‡ç”¨ï¼š
    ```javascript
    function validateEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }
    ```

  praise: |
    ğŸ‘ è™•ç†é€™å€‹é‚Šç·£æ¡ˆä¾‹åšå¾—å¾ˆå¥½ï¼null æª¢æŸ¥é˜²æ­¢äº†æ½›åœ¨çš„åŸ·è¡Œæ™‚éŒ¯èª¤ã€‚

quick_reference:
  review_areas:
    columns: [é ˜åŸŸ, é‡é»]
    rows:
      - [åŠŸèƒ½æ€§, æ­£ç¢ºæ€§å’Œé‚Šç·£æ¡ˆä¾‹]
      - [ç¨‹å¼ç¢¼å“è³ª, å¯è®€æ€§å’Œå¯ç¶­è­·æ€§]
      - [å®‰å…¨æ€§, æ¼æ´å’Œèªè­‰]
      - [æ•ˆèƒ½, æ•ˆç‡å’Œè³‡æºä½¿ç”¨]
      - [æ¸¬è©¦, è¦†è“‹ç‡å’Œå“è³ª]
      - [æ–‡ä»¶, è¨»è§£å’Œæ–‡ä»¶]
