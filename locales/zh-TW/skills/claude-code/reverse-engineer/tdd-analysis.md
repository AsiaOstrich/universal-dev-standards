# TDD åˆ†æå·¥ä½œæµç¨‹æŒ‡å—

> **èªè¨€**: [English](../../../../../skills/claude-code/reverse-engineer/tdd-analysis.md) | ç¹é«”ä¸­æ–‡

æœ¬æŒ‡å—æä¾›é‡å° BDD å ´æ™¯åˆ†ææ¸¬è©¦è¦†è“‹ç‡ä¸¦è­˜åˆ¥ç¼ºå£çš„è©³ç´°å·¥ä½œæµç¨‹ã€‚

---

## æ¦‚è¦½

TDD åˆ†æå°‡ BDD å ´æ™¯æ˜ å°„åˆ°ç¾æœ‰çš„å–®å…ƒæ¸¬è©¦ï¼Œè¨ˆç®—è¦†è“‹ç‡ä¸¦è­˜åˆ¥ç¼ºå£ã€‚é€™ç¢ºä¿é©—æ”¶æ¨™æº–åœ¨å–®å…ƒæ¸¬è©¦å±¤ç´šå¾—åˆ°é©—è­‰ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TDD åˆ†æç®¡é“                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Feature  â”‚â”€â”€â–¶â”‚   è§£æ    â”‚â”€â”€â–¶â”‚   æƒæ    â”‚â”€â”€â–¶â”‚   åŒ¹é…    â”‚        â”‚
â”‚  â”‚   æª”æ¡ˆ    â”‚   â”‚   å ´æ™¯    â”‚   â”‚   æ¸¬è©¦    â”‚   â”‚   æ¼”ç®—æ³•  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                        â”‚               â”‚
â”‚                                                        â–¼               â”‚
â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                       â”‚         è¨ˆç®—ä¿¡å¿ƒåº¦               â”‚            â”‚
â”‚                       â”‚   [å·²ç¢ºèª] [æ¨æ–·] [ç„¡]           â”‚            â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                         â”‚                              â”‚
â”‚                                         â–¼                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚   å‹•ä½œ    â”‚â—€â”€â”€â”‚  è¦†è“‹ç‡   â”‚â—€â”€â”€â”‚   ç¼ºå£    â”‚                        â”‚
â”‚  â”‚   é …ç›®    â”‚   â”‚   å ±å‘Š    â”‚   â”‚   åˆ†æ    â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## éšæ®µ 1ï¼šå ´æ™¯è§£æ

### 1.1 å¾ Feature æª”æ¡ˆæå–å ´æ™¯

å°‡ Gherkin å ´æ™¯è§£æç‚ºå¯åˆ†æçš„çµæ§‹ï¼š

```markdown
## å·²è§£æçš„å ´æ™¯

### features/auth.feature

| ID | å ´æ™¯åç¨± | æ­¥é©Ÿæ•¸ | æ¨™ç±¤ |
|----|----------|--------|------|
| S1 | æˆåŠŸç™»å…¥ | 4 | @confirmed |
| S2 | ç™»å…¥å¤±æ•—-å¯†ç¢¼éŒ¯èª¤ | 3 | @inferred |
| S3 | å¸³è™Ÿé–å®š | 4 | @edge-case |

### æå–çš„é—œéµå­—

| å ´æ™¯ | é—œéµå­— | é ˜åŸŸ |
|------|--------|------|
| S1: æˆåŠŸç™»å…¥ | login, success, credentials | auth |
| S2: ç™»å…¥å¤±æ•— | login, failure, password, error | auth |
| S3: å¸³è™Ÿé–å®š | account, lock, attempts, security | auth |
```

### 1.2 å»ºç«‹å ´æ™¯ç´¢å¼•

å»ºç«‹å¯æœå°‹çš„ç´¢å¼•ç”¨æ–¼åŒ¹é…ï¼š

```json
{
  "scenarios": [
    {
      "id": "auth.feature:S1",
      "name": "æˆåŠŸç™»å…¥",
      "keywords": ["login", "success", "credentials", "user", "password"],
      "domain": "auth",
      "steps": [
        { "type": "Given", "text": "ä½¿ç”¨è€…åœ¨ç™»å…¥é é¢" },
        { "type": "When", "text": "ä½¿ç”¨è€…è¼¸å…¥æ­£ç¢ºçš„ email å’Œå¯†ç¢¼" },
        { "type": "Then", "text": "ä½¿ç”¨è€…æ‡‰è©²çœ‹åˆ°é¦–é " }
      ],
      "tags": ["@confirmed"],
      "source": "features/auth.feature:12-18"
    }
  ]
}
```

---

## éšæ®µ 2ï¼šæ¸¬è©¦æª”æ¡ˆæƒæ

### 2.1 åµæ¸¬æ¸¬è©¦æ¡†æ¶

å¾å°ˆæ¡ˆè­˜åˆ¥æ¸¬è©¦æ¡†æ¶ï¼š

| æŒ‡æ¨™ | æ¡†æ¶ | èªè¨€ |
|------|------|------|
| `jest.config.js` | Jest | JS/TS |
| `vitest.config.ts` | Vitest | JS/TS |
| `pytest.ini`ã€`pyproject.toml` | pytest | Python |
| `pom.xml` with JUnit | JUnit | Java |
| `*_test.go` | Go testing | Go |
| `Cargo.toml` with test | Rust testing | Rust |

### 2.2 æƒææ¸¬è©¦æª”æ¡ˆ

å®šä½ä¸¦è§£ææ¸¬è©¦æª”æ¡ˆï¼š

```markdown
## æ¸¬è©¦æª”æ¡ˆç™¼ç¾

### åµæ¸¬åˆ°çš„æ¡†æ¶ï¼šVitest

### æ‰¾åˆ°çš„æª”æ¡ˆ
| è·¯å¾‘ | æ¸¬è©¦æ•¸ | é ˜åŸŸï¼ˆæ¨æ–·ï¼‰ |
|------|--------|--------------|
| tests/auth.test.ts | 12 | auth |
| tests/cart.test.ts | 8 | cart |
| tests/checkout.test.ts | 15 | checkout |

### æ¸¬è©¦çµæ§‹åˆ†æ

#### tests/auth.test.ts
```typescript
describe('AuthService', () => {
  describe('login', () => {
    it('should return token for valid credentials', () => {...});
    it('should throw error for invalid password', () => {...});
    it('should lock account after 5 attempts', () => {...});
  });
  describe('logout', () => {
    it('should invalidate session', () => {...});
  });
});
```

### æå–çš„æ¸¬è©¦ç´¢å¼•
| æ¸¬è©¦ ID | æ¸¬è©¦åç¨± | é—œéµå­— | è·¯å¾‘ |
|---------|----------|--------|------|
| T1 | should return token for valid credentials | token, valid, credentials | auth.test.ts:5 |
| T2 | should throw error for invalid password | error, invalid, password | auth.test.ts:12 |
| T3 | should lock account after 5 attempts | lock, account, attempts | auth.test.ts:20 |
```

---

## éšæ®µ 3ï¼šåŒ¹é…æ¼”ç®—æ³•

### 3.1 åŒ¹é…ç­–ç•¥

å¥—ç”¨å¤šå€‹ç­–ç•¥ä¸¦åˆä½µåˆ†æ•¸ï¼š

#### ç­–ç•¥ 1ï¼šåç¨±ç›¸ä¼¼åº¦ï¼ˆæ¬Šé‡ï¼š40%ï¼‰

æ¯”è¼ƒå ´æ™¯åç¨±èˆ‡æ¸¬è©¦åç¨±ï¼š

```
å ´æ™¯: æˆåŠŸç™»å…¥ (é—œéµå­—: æˆåŠŸ, ç™»å…¥)
æ¸¬è©¦: should return token for valid credentials

ç¿»è­¯æ˜ å°„:
- æˆåŠŸ â†’ success, valid
- ç™»å…¥ â†’ login, credentials

ç›¸ä¼¼åº¦è¨ˆç®—:
- "valid" åŒ¹é… "æˆåŠŸ" ç¿»è­¯ â†’ +20%
- "credentials" åŒ¹é… "ç™»å…¥" è„ˆçµ¡ â†’ +15%
- åç¨±ç›¸ä¼¼åº¦åˆ†æ•¸: 35%
```

#### ç­–ç•¥ 2ï¼šé—œéµå­—é‡ç–Šï¼ˆæ¬Šé‡ï¼š30%ï¼‰

åŒ¹é…æå–çš„é—œéµå­—ï¼š

```
å ´æ™¯é—œéµå­—: [login, success, credentials, user, password]
æ¸¬è©¦é—œéµå­—: [token, valid, credentials, return]

é‡ç–Š: [credentials]
é‡ç–Šåˆ†æ•¸: 1/5 = 20%
åŠ æ¬Š: 20% Ã— 0.30 = 6%
```

#### ç­–ç•¥ 3ï¼šæ­¥é©Ÿ-æ–·è¨€æ˜ å°„ï¼ˆæ¬Šé‡ï¼š20%ï¼‰

åŒ¹é… Then æ­¥é©Ÿåˆ°æ¸¬è©¦æ–·è¨€ï¼š

```gherkin
Then ä½¿ç”¨è€…æ‡‰è©²çœ‹åˆ°é¦–é 
```

```typescript
expect(response.redirect).toBe('/home');
expect(response.status).toBe(200);
```

æ–·è¨€åˆ†æ:
- "/home" å»ºè­°é¦–é  â†’ åŒ¹é… "é¦–é "
- ç‹€æ…‹ 200 å»ºè­°æˆåŠŸ â†’ åŒ¹é…å ´æ™¯æ„åœ–
- æ­¥é©Ÿ-æ–·è¨€åˆ†æ•¸: 70%
- åŠ æ¬Š: 70% Ã— 0.20 = 14%

#### ç­–ç•¥ 4ï¼šæª”æ¡ˆé„°è¿‘åº¦ï¼ˆæ¬Šé‡ï¼š10%ï¼‰

æ¸¬è©¦æª”æ¡ˆåœ¨ç›¸åŒé ˜åŸŸï¼š

```
å ´æ™¯é ˜åŸŸ: auth
æ¸¬è©¦æª”æ¡ˆ: tests/auth.test.ts

é ˜åŸŸåŒ¹é…: âœ…
é„°è¿‘åº¦åˆ†æ•¸: 100%
åŠ æ¬Š: 100% Ã— 0.10 = 10%
```

### 3.2 ä¿¡å¿ƒåº¦è¨ˆç®—

åˆä½µåŠ æ¬Šåˆ†æ•¸ï¼š

```markdown
## åŒ¹é…çµæœ: S1 â†’ T1

| ç­–ç•¥ | åˆ†æ•¸ | æ¬Šé‡ | åŠ æ¬Š |
|------|------|------|------|
| åç¨±ç›¸ä¼¼åº¦ | 35% | 0.40 | 14% |
| é—œéµå­—é‡ç–Š | 20% | 0.30 | 6% |
| æ­¥é©Ÿ-æ–·è¨€ | 70% | 0.20 | 14% |
| æª”æ¡ˆé„°è¿‘åº¦ | 100% | 0.10 | 10% |
| **ç¸½è¨ˆ** | - | - | **44%** |

ä¿¡å¿ƒåº¦ç­‰ç´š: [æ¨æ–·] (ä¸­ç­‰)
```

### 3.3 ä¿¡å¿ƒåº¦é–€æª»

| ç¸½åˆ† | ä¿¡å¿ƒåº¦ç­‰ç´š | æ¨™ç±¤ |
|------|------------|------|
| 85-100% | é«˜ | `[å·²ç¢ºèª]` |
| 60-84% | ä¸­é«˜ | `[æ¨æ–·]` (é«˜) |
| 40-59% | ä¸­ç­‰ | `[æ¨æ–·]` (ä¸­) |
| 20-39% | ä½ | `[æ¨æ–·]` (ä½) |
| 0-19% | ç„¡ | `[æœªçŸ¥]` |

---

## éšæ®µ 4ï¼šç¼ºå£åˆ†æ

### 4.1 è­˜åˆ¥ç¼ºå°‘çš„è¦†è“‹

åˆ—å‡ºæ²’æœ‰åŒ¹é…æ¸¬è©¦çš„å ´æ™¯ï¼š

```markdown
## è¦†è“‹ç¼ºå£åˆ†æ

### âŒ ç„¡æ¸¬è©¦è¦†è“‹

| å ´æ™¯ | åŠŸèƒ½ | å„ªå…ˆç´š | ç¼ºå£åŸå›  |
|------|------|--------|----------|
| å¸³è™Ÿé–å®š | auth.feature:45 | ğŸ”´ é«˜ | æ‰¾ä¸åˆ°åŒ¹é…çš„æ¸¬è©¦ |
| è³¼ç‰©è»Šä¸Šé™ | cart.feature:32 | ğŸŸ¡ ä¸­ | åƒ…éƒ¨åˆ†åŒ¹é… |

### ç¼ºå£åˆ†é¡

| é¡å‹ | æ•¸é‡ | ç¯„ä¾‹ |
|------|------|------|
| å®Œå…¨æ²’æœ‰æ¸¬è©¦ | 2 | å¸³è™Ÿé–å®š, è³¼ç‰©è»Šä¸Šé™ |
| ç¼ºå°‘é‚Šç•Œæƒ…æ³ | 3 | ç©ºè³¼ç‰©è»Š, ç„¡æ•ˆ email, é€¾æ™‚ |
| ç¼ºå°‘éŒ¯èª¤è™•ç† | 4 | ç™»å…¥éŒ¯èª¤, ä»˜æ¬¾å¤±æ•— |
```

### 4.2 å„ªå…ˆç´šåˆ†é…

æ ¹æ“šä»¥ä¸‹å› ç´ æ±ºå®šæ¸¬è©¦å„ªå…ˆç´šï¼š

```markdown
## å„ªå…ˆç´šè¨ˆç®—

| å› ç´  | æ¬Šé‡ | é«˜ | ä¸­ | ä½ |
|------|------|------|------|------|
| å®‰å…¨å½±éŸ¿ | 30% | èªè­‰, ä»˜æ¬¾ | ç”¨æˆ¶è³‡æ–™ | é¡¯ç¤º |
| ç”¨æˆ¶é »ç‡ | 25% | æ ¸å¿ƒæµç¨‹ | å¸¸è¦‹ | ç½•è¦‹ |
| å•†æ¥­é¢¨éšª | 25% | ç‡Ÿæ”¶ | ç•™å­˜ | æ¬¡è¦ |
| è¤‡é›œåº¦ | 20% | é«˜é‚è¼¯ | ä¸­ç­‰ | ç°¡å–® |

### å„ªå…ˆç´šçµæœ

| å ´æ™¯ | å®‰å…¨ | é »ç‡ | é¢¨éšª | è¤‡é›œåº¦ | ç¸½è¨ˆ | å„ªå…ˆç´š |
|------|------|------|------|--------|------|--------|
| å¸³è™Ÿé–å®š | 90% | 20% | 80% | 60% | 62.5% | ğŸ”´ é«˜ |
| è³¼ç‰©è»Šä¸Šé™ | 30% | 60% | 40% | 40% | 42.5% | ğŸŸ¡ ä¸­ |
```

### 4.3 æ¸¬è©¦å»ºè­°

ç”Ÿæˆå¯åŸ·è¡Œçš„æ¸¬è©¦å»ºè­°ï¼š

```markdown
## å»ºè­°çš„æ¸¬è©¦

### ğŸ”´ é«˜å„ªå…ˆç´š

#### 1. å¸³è™Ÿé–å®šæ¸¬è©¦
**å ´æ™¯**ï¼šå¸³è™Ÿé–å®š
**å»ºè­°æª”æ¡ˆ**ï¼štests/auth.test.ts
**å»ºè­°æ¸¬è©¦**ï¼š
```typescript
describe('AuthService', () => {
  describe('account lockout', () => {
    it('should lock account after 5 failed attempts', async () => {
      // Arrange
      const user = await createTestUser();

      // Act - 5 æ¬¡å¤±æ•—å˜—è©¦
      for (let i = 0; i < 5; i++) {
        await authService.login(user.email, 'wrong-password');
      }

      // Assert
      const status = await authService.getAccountStatus(user.id);
      expect(status).toBe('locked');
    });

    it('should reset attempt count after successful login', async () => {
      // ...
    });
  });
});
```

**æ¶µè“‹**ï¼šS3 (å¸³è™Ÿé–å®š) ä¾†è‡ª auth.feature:45
**å„ªå…ˆç´š**ï¼šğŸ”´ é«˜ (å®‰å…¨é—œéµ)
```

---

## éšæ®µ 5ï¼šè¦†è“‹ç‡å ±å‘Šç”Ÿæˆ

### 5.1 å ±å‘Šçµæ§‹

```markdown
# BDD â†’ TDD è¦†è“‹ç‡å ±å‘Š

> ç”Ÿæˆæ™‚é–“: 2026-01-19 14:30
> Feature æª”æ¡ˆ: 3 å€‹å·²åˆ†æ
> æ¸¬è©¦æª”æ¡ˆ: 5 å€‹å·²æƒæ
> åŒ¹é…æ¼”ç®—æ³•: v1.0

---

## ğŸ“Š åŸ·è¡Œæ‘˜è¦

| æŒ‡æ¨™ | å€¼ | ç‹€æ…‹ |
|------|------|------|
| ç¸½å ´æ™¯æ•¸ | 18 | - |
| è¦†è“‹ [å·²ç¢ºèª] | 10 (56%) | âœ… |
| è¦†è“‹ [æ¨æ–·] | 5 (28%) | âš ï¸ |
| ç„¡è¦†è“‹ | 3 (17%) | âŒ |
| **æœ‰æ•ˆè¦†è“‹ç‡** | **83%** | - |

### è¶¨å‹¢ï¼ˆå¦‚æœ‰æ­·å²è³‡æ–™ï¼‰
| æ—¥æœŸ | è¦†è“‹ç‡ |
|------|--------|
| 2026-01-12 | 75% |
| 2026-01-19 | 83% â†‘ |

---

## ğŸ“ˆ ä¾åŠŸèƒ½è¦†è“‹ç‡

| åŠŸèƒ½ | å ´æ™¯æ•¸ | å·²è¦†è“‹ | è¦†è“‹ç‡ |
|------|--------|--------|--------|
| auth.feature | 8 | 7 | 88% âœ… |
| cart.feature | 6 | 5 | 83% âœ… |
| checkout.feature | 4 | 3 | 75% âš ï¸ |

---

## âœ… å·²è¦†è“‹å ´æ™¯

### [å·²ç¢ºèª] ç›´æ¥åŒ¹é… (56%)

| BDD å ´æ™¯ | å–®å…ƒæ¸¬è©¦ | ä¿¡å¿ƒåº¦ | ä¾†æº |
|----------|----------|--------|------|
| æˆåŠŸç™»å…¥ | test_login_success | 92% | auth.test.ts:25 |
| ç™»å…¥å¤±æ•—-å¯†ç¢¼éŒ¯èª¤ | test_login_invalid_pwd | 88% | auth.test.ts:45 |
| æ–°å¢å•†å“åˆ°è³¼ç‰©è»Š | test_add_to_cart | 95% | cart.test.ts:12 |

### [æ¨æ–·] å¯èƒ½åŒ¹é… (28%)

| BDD å ´æ™¯ | å–®å…ƒæ¸¬è©¦ | ä¿¡å¿ƒåº¦ | éœ€è¦å¯©æŸ¥ |
|----------|----------|--------|----------|
| æ›´æ–°è³¼ç‰©è»Šæ•¸é‡ | test_update_quantity | 65% | âš ï¸ é©—è­‰ |
| ç§»é™¤è³¼ç‰©è»Šå•†å“ | test_remove_item | 58% | âš ï¸ é©—è­‰ |

> âš ï¸ [æ¨æ–·] é …ç›®æ‡‰ç”±é–‹ç™¼äººå“¡å¯©æŸ¥

---

## âŒ ç¼ºå°‘è¦†è“‹ (17%)

### é«˜å„ªå…ˆç´š ğŸ”´

| å ´æ™¯ | ä¾†æº | å»ºè­°æ¸¬è©¦ | åŸå›  |
|------|------|----------|------|
| å¸³è™Ÿé–å®š | auth.feature:45 | test_account_lockout | å®‰å…¨é—œéµ |

### ä¸­å„ªå…ˆç´š ğŸŸ¡

| å ´æ™¯ | ä¾†æº | å»ºè­°æ¸¬è©¦ | åŸå›  |
|------|------|----------|------|
| è³¼ç‰©è»Šè¶…éä¸Šé™ | cart.feature:32 | test_cart_max_limit | é‚Šç•Œæ¢ä»¶ |
| çµå¸³é€¾æ™‚è™•ç† | checkout.feature:78 | test_checkout_timeout | éŒ¯èª¤è™•ç† |

---

## ğŸ“‹ å»ºè­°å‹•ä½œ

### ç«‹å³ï¼ˆæœ¬ Sprintï¼‰
1. [ ] æ–°å¢ `test_account_lockout` åˆ° auth.test.ts
   - å®‰å…¨é—œéµåŠŸèƒ½
   - ä¼°è¨ˆå·¥ä½œé‡ï¼š2 å°æ™‚

### ä¸‹å€‹ Sprint
2. [ ] èˆ‡é ˜åŸŸå°ˆå®¶é©—è­‰ [æ¨æ–·] æ¸¬è©¦æ˜ å°„
3. [ ] æ–°å¢è³¼ç‰©è»Šä¸Šé™çš„é‚Šç•Œæ¸¬è©¦
4. [ ] æ–°å¢é€¾æ™‚è™•ç†æ¸¬è©¦

### å¾…è¾¦æ¸…å–®
5. [ ] æ”¹å–„æ¸¬è©¦å‘½åä»¥åˆ©æ›´å¥½çš„è‡ªå‹•åŒ¹é…
6. [ ] ç‚ºè¤‡é›œæµç¨‹æ–°å¢æ•´åˆæ¸¬è©¦

---

## ğŸ”— å¯è¿½æº¯æ€§çŸ©é™£

| SPEC â†’ BDD â†’ TDD |
|------------------|
| SPEC-AUTH.md:42 â†’ auth.feature:12 (æˆåŠŸç™»å…¥) â†’ auth.test.ts:25 âœ… |
| SPEC-AUTH.md:48 â†’ auth.feature:24 (ç™»å…¥å¤±æ•—) â†’ auth.test.ts:45 âœ… |
| SPEC-AUTH.md:52 â†’ auth.feature:45 (å¸³è™Ÿé–å®š) â†’ âŒ ç¼ºå°‘ |
```

### 5.2 æ©Ÿå™¨å¯è®€è¼¸å‡º

```json
{
  "reportMeta": {
    "generated": "2026-01-19T14:30:00Z",
    "version": "1.0",
    "featureFiles": 3,
    "testFiles": 5
  },
  "summary": {
    "totalScenarios": 18,
    "coveredConfirmed": 10,
    "coveredInferred": 5,
    "noCoverage": 3,
    "effectiveCoverage": 0.83
  },
  "mappings": [
    {
      "scenario": {
        "id": "auth.feature:S1",
        "name": "æˆåŠŸç™»å…¥",
        "source": "features/auth.feature:12"
      },
      "test": {
        "id": "auth.test.ts:T1",
        "name": "test_login_success",
        "source": "tests/auth.test.ts:25"
      },
      "confidence": 0.92,
      "level": "confirmed"
    }
  ],
  "gaps": [
    {
      "scenario": {
        "id": "auth.feature:S3",
        "name": "å¸³è™Ÿé–å®š",
        "source": "features/auth.feature:45"
      },
      "priority": "high",
      "reason": "security_critical",
      "suggestion": {
        "testName": "test_account_lockout",
        "file": "tests/auth.test.ts"
      }
    }
  ]
}
```

---

## éšæ®µ 6ï¼šå‹•ä½œé …ç›®ç”Ÿæˆ

### 6.1 Sprint å°±ç·’ä»»å‹™

ç”Ÿæˆå¯åŸ·è¡Œçš„ä»»å‹™ï¼š

```markdown
## ç”Ÿæˆçš„ Sprint ä»»å‹™

### ä»»å‹™ 1ï¼šæ–°å¢å¸³è™Ÿé–å®šæ¸¬è©¦
- **é¡å‹**ï¼šå–®å…ƒæ¸¬è©¦
- **æª”æ¡ˆ**ï¼štests/auth.test.ts
- **æ¶µè“‹**ï¼šS3 (å¸³è™Ÿé–å®š)
- **å„ªå…ˆç´š**ï¼šğŸ”´ é«˜
- **ä¼°è¨ˆ**ï¼š2 å°æ™‚
- **é©—æ”¶æ¨™æº–**ï¼š
  - [ ] æ¸¬è©¦ 5 æ¬¡å¤±æ•—å˜—è©¦å¾Œé–å®šå¸³è™Ÿ
  - [ ] æ¸¬è©¦æˆåŠŸç™»å…¥å¾Œé‡è¨­è¨ˆæ•¸
  - [ ] æ¸¬è©¦é–å®šæŒçºŒæ™‚é–“ï¼ˆå¦‚é©ç”¨ï¼‰

### ä»»å‹™ 2ï¼šé©—è­‰è³¼ç‰©è»Šæ›´æ–°æ¸¬è©¦
- **é¡å‹**ï¼šå¯©æŸ¥
- **å‹•ä½œ**ï¼šç¢ºèª test_update_quantity æ¶µè“‹ BDD å ´æ™¯
- **å„ªå…ˆç´š**ï¼šğŸŸ¡ ä¸­
- **ä¼°è¨ˆ**ï¼š30 åˆ†é˜
```

### 6.2 èˆ‡å•é¡Œè¿½è¹¤å™¨æ•´åˆ

```markdown
## GitHub Issuesï¼ˆè‰ç¨¿ï¼‰

### Issue 1
**æ¨™é¡Œ**ï¼šç‚ºå¸³è™Ÿé–å®šåŠŸèƒ½æ–°å¢å–®å…ƒæ¸¬è©¦
**æ¨™ç±¤**ï¼štest, security, high-priority
**å…§å®¹**ï¼š
BDD å ´æ™¯ `å¸³è™Ÿé–å®š` (auth.feature:45) ç¼ºå°‘å–®å…ƒæ¸¬è©¦è¦†è“‹ã€‚

**é©—æ”¶æ¨™æº–**ï¼š
- [ ] æ–°å¢ test_account_lockout åˆ° auth.test.ts
- [ ] æ¶µè“‹ 5 æ¬¡å¤±æ•—å˜—è©¦ â†’ é–å®š
- [ ] æ¶µè“‹æˆåŠŸå¾Œé–å®šé‡è¨­

**åƒè€ƒ**ï¼šSPEC-AUTH.md:52, BDD è¦†è“‹ç‡å ±å‘Š 2026-01-19
```

---

## è™•ç†æŒ‘æˆ°

### æŒ‘æˆ° 1ï¼šä¸åŒçš„æ¸¬è©¦å‘½åæ…£ä¾‹

```markdown
# å•é¡Œ
å ´æ™¯: ä½¿ç”¨è€…å¯ä»¥ç™»å…¥
æ¸¬è©¦: it('verifies authentication flow')

# è§£æ±ºæ–¹æ¡ˆ
1. å¾å…©è€…æå–èªæ„é—œéµå­—
2. å°å¤šèªè¨€ä½¿ç”¨ç¿»è­¯æ˜ å°„
3. é™ä½ä¿¡å¿ƒåº¦ä½†ä»ç„¶åŒ¹é…
4. æ¨™è¨˜ä¾›äººé¡å¯©æŸ¥
```

### æŒ‘æˆ° 2ï¼šè¡¨æ ¼é©…å‹•æ¸¬è©¦

```typescript
test.each([
  ['valid', true],
  ['invalid', false],
])('login with %s credentials', (type, expected) => {...});
```

```markdown
# åˆ†æ
å–®ä¸€æ¸¬è©¦æ¶µè“‹å¤šå€‹å ´æ™¯ï¼š
- æˆåŠŸç™»å…¥ â†’ è¡¨æ ¼è¡Œ 'valid'
- ç™»å…¥å¤±æ•— â†’ è¡¨æ ¼è¡Œ 'invalid'

å°‡å…©å€‹å ´æ™¯æ¨™è¨˜ç‚º [æ¨æ–·]ï¼Œå¼•ç”¨å…±ç”¨æ¸¬è©¦
```

### æŒ‘æˆ° 3ï¼šæ•´åˆ vs å–®å…ƒæ¸¬è©¦

```markdown
# åˆ†é¡
| æ¸¬è©¦é¡å‹ | è¦†è“‹é¡å‹ | æ¬Šé‡ |
|----------|----------|------|
| å–®å…ƒæ¸¬è©¦ | ç›´æ¥ | 100% |
| æ•´åˆæ¸¬è©¦ | éƒ¨åˆ† | 50% |
| E2E | é–“æ¥ | 25% |

# åˆ†åˆ¥å ±å‘Šä½†åˆä½µè¨ˆç®—ç¸½è¦†è“‹ç‡
```

---

## CI/CD æ•´åˆ

### GitHub Actions ç¯„ä¾‹

```yaml
name: BDD Coverage Check

on: [pull_request]

jobs:
  coverage:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Run BDD Coverage Analysis
        run: |
          uds reverse-tdd features/ --output coverage.json

      - name: Check Coverage Threshold
        run: |
          COVERAGE=$(jq '.summary.effectiveCoverage' coverage.json)
          if (( $(echo "$COVERAGE < 0.80" | bc -l) )); then
            echo "Coverage $COVERAGE below 80% threshold"
            exit 1
          fi

      - name: Comment on PR
        uses: actions/github-script@v6
        with:
          script: |
            const coverage = require('./coverage.json');
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `## BDD è¦†è“‹ç‡å ±å‘Š\n\nè¦†è“‹ç‡: ${(coverage.summary.effectiveCoverage * 100).toFixed(1)}%`
            });
```

---

## ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´ |
|------|------|------|
| 1.0.0 | 2026-01-19 | åˆå§‹ç‰ˆæœ¬ |
