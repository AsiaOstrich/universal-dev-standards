---
source: ../../../integrations/spec-kit/AGENTS.md
source_version: 1.0.0
translation_version: 1.0.0
last_synced: 2026-01-13
status: current
---

# Spec Kit 指令

使用 Spec Kit 進行規格驅動開發的 AI 編碼助手指令。

## 使用方式

將此檔案複製到您的專案，或包含在 AI 助手的系統指令中。

---

## 使用 Spec Kit 進行規格驅動開發

當此專案啟用 Spec Kit 時，您必須遵循**規格驅動開發（SDD）**方法論。

### 核心原則：規格優先，程式碼其次

**規則**：沒有對應的已核准規格，不得進行任何功能性程式碼變更。

**例外情況**：
- 緊急修復（立即恢復服務，事後記錄）
- 瑣碎變更（錯字、註解、格式）

---

## Spec Kit 指令

當 Spec Kit 可用時，優先使用這些指令：

| 指令 | 說明 |
|------|------|
| `/spec create <title>` | 建立新規格 |
| `/spec list` | 列出所有活躍規格 |
| `/spec show <id>` | 顯示規格詳情 |
| `/spec approve <id>` | 標記規格為已核准 |
| `/spec close <id>` | 關閉已完成規格 |
| `/spec archive <id>` | 封存規格 |

### 指令優先順序

**規則**：始終優先使用 Spec Kit 指令，而非手動編輯檔案。

**理由**：
- **一致性**：確保規格結構遵循 schema
- **可追溯性**：自動產生 ID 和連結
- **驗證**：內建檢查防止無效狀態

---

## SDD 工作流程

```
┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│     提案     │───▶│     審查     │───▶│     實作     │
└──────────────┘    └──────────────┘    └──────────────┘
                                               │
                                               ▼
                    ┌──────────────┐    ┌──────────────┐
                    │     封存     │◀───│     驗證     │
                    └──────────────┘    └──────────────┘
```

### 工作流程階段

| 階段 | 說明 | 操作 |
|------|------|------|
| **提案** | 定義變更內容和原因 | `/spec create` |
| **審查** | 利害關係人核准 | `/spec approve` |
| **實作** | 執行已核准規格 | 程式碼變更 |
| **驗證** | 確認實作符合規格 | 測試 |
| **封存** | 關閉並封存規格 | `/spec close` |

---

## 任何任務之前

**脈絡檢查清單**：
- [ ] 檢查活躍規格：`/spec list`
- [ ] 變更前審查相關規格
- [ ] 確認無衝突規格
- [ ] 非瑣碎變更需建立規格

**可跳過規格的情況**：
- 錯誤修復（恢復預期行為）
- 錯字、格式、註解
- 依賴更新（非破壞性）
- 配置變更

---

## 規格文件範本

手動建立規格時，使用此結構：

```markdown
# [SPEC-ID] 功能標題

## 摘要
簡述提議變更。

## 動機
為何需要此變更？解決什麼問題？

## 詳細設計
技術方案、受影響元件、資料流程。

## 驗收標準
- [ ] 標準 1
- [ ] 標準 2

## 依賴項
列出對其他規格或外部系統的依賴。

## 風險
潛在風險和緩解策略。
```

---

## 與通用文件規範的整合

### Commit 訊息

在 commit 訊息中引用規格 ID：

```
feat(auth): 實作登入功能

實作 SPEC-001 登入功能，支援 OAuth2。

Refs: SPEC-001
```

### 程式碼審查

審查者應確認：
- [ ] 變更符合已核准規格
- [ ] 無超出規格的範圍蔓延
- [ ] 規格驗收標準已達成

---

## 最佳實踐

### 應該做的
- 保持規格聚焦且原子化（每個規格一項變更）
- 包含清晰的驗收標準
- 將規格連結到實作 PR
- 完成後封存規格

### 不應該做的
- 規格核准前開始編碼
- 實作期間修改範圍而不更新規格
- 讓規格處於懸而未決狀態（始終關閉或封存）
- 跳過驗證步驟

---

## 相關標準

- [規格驅動開發](../../core/spec-driven-development.md) - SDD 方法論
- [Commit 訊息指南](../../core/commit-message-guide.md) - Commit 慣例
- [程式碼簽入標準](../../core/checkin-standards.md) - 簽入要求

---

## 版本歷史

| 版本 | 日期 | 變更 |
|------|------|------|
| 1.0.0 | 2025-12-30 | 初始 Spec Kit 整合 |

---

## 授權

本文件以 [CC BY 4.0](https://creativecommons.org/licenses/by/4.0/) 授權發布。
